"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/convert/route";
exports.ids = ["app/api/convert/route"];
exports.modules = {

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_sumitchakrabarti_AI_codex_github_clone_attempt_app_api_convert_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/convert/route.ts */ \"(rsc)/./app/api/convert/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/convert/route\",\n        pathname: \"/api/convert\",\n        filename: \"route\",\n        bundlePath: \"app/api/convert/route\"\n    },\n    resolvedPagePath: \"/Users/sumitchakrabarti/AI/codex/github_clone_attempt/app/api/convert/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sumitchakrabarti_AI_codex_github_clone_attempt_app_api_convert_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/convert/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb252ZXJ0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb252ZXJ0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY29udmVydCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN1bWl0Y2hha3JhYmFydGklMkZBSSUyRmNvZGV4JTJGZ2l0aHViX2Nsb25lX2F0dGVtcHQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc3VtaXRjaGFrcmFiYXJ0aSUyRkFJJTJGY29kZXglMkZnaXRodWJfY2xvbmVfYXR0ZW1wdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDOEI7QUFDM0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pd29yay1vZmZpY2UtY29udmVydGVyLz9jMTJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9zdW1pdGNoYWtyYWJhcnRpL0FJL2NvZGV4L2dpdGh1Yl9jbG9uZV9hdHRlbXB0L2FwcC9hcGkvY29udmVydC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY29udmVydC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbnZlcnRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvbnZlcnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc3VtaXRjaGFrcmFiYXJ0aS9BSS9jb2RleC9naXRodWJfY2xvbmVfYXR0ZW1wdC9hcHAvYXBpL2NvbnZlcnQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NvbnZlcnQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/convert/route.ts":
/*!**********************************!*\
  !*** ./app/api/convert/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _lib_init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/init */ \"(rsc)/./lib/init/index.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/storage */ \"(rsc)/./lib/storage/index.ts\");\n/* harmony import */ var _lib_conversion_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/conversion/service */ \"(rsc)/./lib/conversion/service.ts\");\n/* harmony import */ var _lib_events_sse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/events/sse */ \"(rsc)/./lib/events/sse.ts\");\n/* harmony import */ var _lib_queue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/queue */ \"(rsc)/./lib/queue/index.ts\");\n/* harmony import */ var _lib_conversion_mappings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/conversion/mappings */ \"(rsc)/./lib/conversion/mappings.ts\");\n/* harmony import */ var _lib_analytics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/analytics */ \"(rsc)/./lib/analytics/index.ts\");\n/* harmony import */ var _lib_security_rateLimit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/security/rateLimit */ \"(rsc)/./lib/security/rateLimit.ts\");\n/* harmony import */ var _lib_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/config */ \"(rsc)/./lib/config.ts\");\n/* harmony import */ var _lib_conversion_providers_local_macos__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/conversion/providers/local-macos */ \"(rsc)/./lib/conversion/providers/local-macos.ts\");\n/* harmony import */ var _lib_conversion_providers_embedded_preview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/conversion/providers/embedded-preview */ \"(rsc)/./lib/conversion/providers/embedded-preview.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst runtime = \"nodejs\";\nconst schema = zod__WEBPACK_IMPORTED_MODULE_11__.object({\n    fileId: zod__WEBPACK_IMPORTED_MODULE_11__.string(),\n    sourceExt: zod__WEBPACK_IMPORTED_MODULE_11__.string(),\n    targetExt: zod__WEBPACK_IMPORTED_MODULE_11__.string()\n});\nasync function POST(req) {\n    const ip = req.headers.get(\"x-forwarded-for\") || req.ip || \"anon\";\n    if (!(0,_lib_security_rateLimit__WEBPACK_IMPORTED_MODULE_7__.rateLimit)(ip, Number(process.env.RATE_LIMIT_PER_HOUR || 60))) return new Response(\"Rate limit exceeded\", {\n        status: 429\n    });\n    const body = await req.json();\n    const parse = schema.safeParse(body);\n    if (!parse.success) return new Response(\"Invalid body\", {\n        status: 400\n    });\n    const { fileId, sourceExt, targetExt } = parse.data;\n    const storage = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_1__.getStorage)();\n    const loaded = await storage.load(fileId);\n    if (!loaded) return new Response(\"File not found\", {\n        status: 404\n    });\n    const { meta, data } = loaded;\n    const kind = (0,_lib_conversion_mappings__WEBPACK_IMPORTED_MODULE_5__.inferTypeFromName)(meta.name);\n    if (!(0,_lib_conversion_mappings__WEBPACK_IMPORTED_MODULE_5__.isValidMapping)(kind, targetExt)) return new Response(\"Unsupported target format\", {\n        status: 400\n    });\n    const jobId = crypto.randomUUID();\n    const ch = (0,_lib_events_sse__WEBPACK_IMPORTED_MODULE_3__.getChannel)(jobId);\n    _lib_analytics__WEBPACK_IMPORTED_MODULE_6__.analytics.track(\"conversion_started\", {\n        jobId,\n        source: sourceExt,\n        target: targetExt\n    });\n    // Conversion via queue (local macOS or mock)\n    _lib_queue__WEBPACK_IMPORTED_MODULE_4__.conversionQueue.push(async ()=>{\n        try {\n            ch.emit(\"progress\", {\n                stage: \"converting\",\n                progress: 25\n            });\n            await new Promise((r)=>setTimeout(r, 400));\n            ch.emit(\"progress\", {\n                stage: \"converting\",\n                progress: 65\n            });\n            await new Promise((r)=>setTimeout(r, 400));\n            const outName = (0,_lib_conversion_service__WEBPACK_IMPORTED_MODULE_2__.deriveOutputName)(meta.name, targetExt);\n            let outBuf = null;\n            if (targetExt.toLowerCase() === \"pdf\") {\n                // Try to extract embedded QuickLook PDF (no external tools)\n                outBuf = await (0,_lib_conversion_providers_embedded_preview__WEBPACK_IMPORTED_MODULE_10__.extractEmbeddedPdf)(data);\n            }\n            if (!outBuf) {\n                outBuf = _lib_config__WEBPACK_IMPORTED_MODULE_8__.config.backend === \"local\" && process.platform === \"darwin\" ? await (0,_lib_conversion_providers_local_macos__WEBPACK_IMPORTED_MODULE_9__.convertLocalMacOS)(data, meta.name, targetExt) : (0,_lib_conversion_service__WEBPACK_IMPORTED_MODULE_2__.fakeConvertBuffer)(data, targetExt, meta.name);\n            }\n            const outMeta = await storage.save(outName, outBuf);\n            const url = `/api/download/${outMeta.id}`;\n            ch.emit(\"progress\", {\n                stage: \"done\",\n                progress: 100,\n                downloadUrl: url\n            });\n            _lib_analytics__WEBPACK_IMPORTED_MODULE_6__.analytics.track(\"conversion_succeeded\", {\n                jobId\n            });\n        } catch (e) {\n            ch.emit(\"progress\", {\n                stage: \"failed\",\n                error: e.message || \"Conversion failed\"\n            });\n            _lib_analytics__WEBPACK_IMPORTED_MODULE_6__.analytics.track(\"conversion_failed\", {\n                jobId\n            });\n        }\n    });\n    return Response.json({\n        jobId\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxDQUFDLGNBQWMsRUFBRUYsUUFBUUcsRUFBRSxDQUFDLENBQUM7WUFDekNuQixHQUFHSyxJQUFJLENBQUMsWUFBWTtnQkFBRUMsT0FBTztnQkFBUUMsVUFBVTtnQkFBS2EsYUFBYUY7WUFBSTtZQUNyRXhELHFEQUFTQSxDQUFDdUMsS0FBSyxDQUFDLHdCQUF3QjtnQkFBRUo7WUFBTTtRQUNsRCxFQUFFLE9BQU93QixHQUFRO1lBQ2ZyQixHQUFHSyxJQUFJLENBQUMsWUFBWTtnQkFBRUMsT0FBTztnQkFBVWdCLE9BQU9ELEVBQUVFLE9BQU8sSUFBSTtZQUFvQjtZQUMvRTdELHFEQUFTQSxDQUFDdUMsS0FBSyxDQUFDLHFCQUFxQjtnQkFBRUo7WUFBTTtRQUMvQztJQUNGO0lBRUEsT0FBT2QsU0FBU0csSUFBSSxDQUFDO1FBQUVXO0lBQU07QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pd29yay1vZmZpY2UtY29udmVydGVyLy4vYXBwL2FwaS9jb252ZXJ0L3JvdXRlLnRzPzMwYjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCAnQC9saWIvaW5pdCc7XG5pbXBvcnQgeyBnZXRTdG9yYWdlIH0gZnJvbSAnQC9saWIvc3RvcmFnZSc7XG5pbXBvcnQgeyBkZXJpdmVPdXRwdXROYW1lLCBmYWtlQ29udmVydEJ1ZmZlciwgbWltZUZvciB9IGZyb20gJ0AvbGliL2NvbnZlcnNpb24vc2VydmljZSc7XG5pbXBvcnQgeyBnZXRDaGFubmVsIH0gZnJvbSAnQC9saWIvZXZlbnRzL3NzZSc7XG5pbXBvcnQgeyBjb252ZXJzaW9uUXVldWUgfSBmcm9tICdAL2xpYi9xdWV1ZSc7XG5pbXBvcnQgeyBpc1ZhbGlkTWFwcGluZywgaW5mZXJUeXBlRnJvbU5hbWUgfSBmcm9tICdAL2xpYi9jb252ZXJzaW9uL21hcHBpbmdzJztcbmltcG9ydCB7IGFuYWx5dGljcyB9IGZyb20gJ0AvbGliL2FuYWx5dGljcyc7XG5pbXBvcnQgeyByYXRlTGltaXQgfSBmcm9tICdAL2xpYi9zZWN1cml0eS9yYXRlTGltaXQnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnQC9saWIvY29uZmlnJztcbmltcG9ydCB7IGNvbnZlcnRMb2NhbE1hY09TIH0gZnJvbSAnQC9saWIvY29udmVyc2lvbi9wcm92aWRlcnMvbG9jYWwtbWFjb3MnO1xuaW1wb3J0IHsgZXh0cmFjdEVtYmVkZGVkUGRmIH0gZnJvbSAnQC9saWIvY29udmVyc2lvbi9wcm92aWRlcnMvZW1iZWRkZWQtcHJldmlldyc7XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XG5cbmNvbnN0IHNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZmlsZUlkOiB6LnN0cmluZygpLFxuICBzb3VyY2VFeHQ6IHouc3RyaW5nKCksXG4gIHRhcmdldEV4dDogei5zdHJpbmcoKSxcbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGlwID0gcmVxLmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCByZXEuaXAgfHwgJ2Fub24nO1xuICBpZiAoIXJhdGVMaW1pdChpcCBhcyBzdHJpbmcsIE51bWJlcihwcm9jZXNzLmVudi5SQVRFX0xJTUlUX1BFUl9IT1VSIHx8IDYwKSkpXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSgnUmF0ZSBsaW1pdCBleGNlZWRlZCcsIHsgc3RhdHVzOiA0MjkgfSk7XG4gIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICBjb25zdCBwYXJzZSA9IHNjaGVtYS5zYWZlUGFyc2UoYm9keSk7XG4gIGlmICghcGFyc2Uuc3VjY2VzcykgcmV0dXJuIG5ldyBSZXNwb25zZSgnSW52YWxpZCBib2R5JywgeyBzdGF0dXM6IDQwMCB9KTtcbiAgY29uc3QgeyBmaWxlSWQsIHNvdXJjZUV4dCwgdGFyZ2V0RXh0IH0gPSBwYXJzZS5kYXRhO1xuXG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGNvbnN0IGxvYWRlZCA9IGF3YWl0IHN0b3JhZ2UubG9hZChmaWxlSWQpO1xuICBpZiAoIWxvYWRlZCkgcmV0dXJuIG5ldyBSZXNwb25zZSgnRmlsZSBub3QgZm91bmQnLCB7IHN0YXR1czogNDA0IH0pO1xuICBjb25zdCB7IG1ldGEsIGRhdGEgfSA9IGxvYWRlZDtcbiAgY29uc3Qga2luZCA9IGluZmVyVHlwZUZyb21OYW1lKG1ldGEubmFtZSk7XG4gIGlmICghaXNWYWxpZE1hcHBpbmcoa2luZCwgdGFyZ2V0RXh0KSlcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKCdVbnN1cHBvcnRlZCB0YXJnZXQgZm9ybWF0JywgeyBzdGF0dXM6IDQwMCB9KTtcblxuICBjb25zdCBqb2JJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnN0IGNoID0gZ2V0Q2hhbm5lbChqb2JJZCk7XG4gIGFuYWx5dGljcy50cmFjaygnY29udmVyc2lvbl9zdGFydGVkJywgeyBqb2JJZCwgc291cmNlOiBzb3VyY2VFeHQsIHRhcmdldDogdGFyZ2V0RXh0IH0pO1xuXG4gIC8vIENvbnZlcnNpb24gdmlhIHF1ZXVlIChsb2NhbCBtYWNPUyBvciBtb2NrKVxuICBjb252ZXJzaW9uUXVldWUucHVzaChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNoLmVtaXQoJ3Byb2dyZXNzJywgeyBzdGFnZTogJ2NvbnZlcnRpbmcnLCBwcm9ncmVzczogMjUgfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCA0MDApKTtcbiAgICAgIGNoLmVtaXQoJ3Byb2dyZXNzJywgeyBzdGFnZTogJ2NvbnZlcnRpbmcnLCBwcm9ncmVzczogNjUgfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCA0MDApKTtcbiAgICAgIGNvbnN0IG91dE5hbWUgPSBkZXJpdmVPdXRwdXROYW1lKG1ldGEubmFtZSwgdGFyZ2V0RXh0KTtcbiAgICAgIGxldCBvdXRCdWY6IEJ1ZmZlciB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKHRhcmdldEV4dC50b0xvd2VyQ2FzZSgpID09PSAncGRmJykge1xuICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBlbWJlZGRlZCBRdWlja0xvb2sgUERGIChubyBleHRlcm5hbCB0b29scylcbiAgICAgICAgb3V0QnVmID0gYXdhaXQgZXh0cmFjdEVtYmVkZGVkUGRmKGRhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKCFvdXRCdWYpIHtcbiAgICAgICAgb3V0QnVmID1cbiAgICAgICAgICBjb25maWcuYmFja2VuZCA9PT0gJ2xvY2FsJyAmJiBwcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJ1xuICAgICAgICAgICAgPyBhd2FpdCBjb252ZXJ0TG9jYWxNYWNPUyhkYXRhLCBtZXRhLm5hbWUsIHRhcmdldEV4dClcbiAgICAgICAgICAgIDogZmFrZUNvbnZlcnRCdWZmZXIoZGF0YSwgdGFyZ2V0RXh0LCBtZXRhLm5hbWUpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3V0TWV0YSA9IGF3YWl0IHN0b3JhZ2Uuc2F2ZShvdXROYW1lLCBvdXRCdWYpO1xuICAgICAgY29uc3QgdXJsID0gYC9hcGkvZG93bmxvYWQvJHtvdXRNZXRhLmlkfWA7XG4gICAgICBjaC5lbWl0KCdwcm9ncmVzcycsIHsgc3RhZ2U6ICdkb25lJywgcHJvZ3Jlc3M6IDEwMCwgZG93bmxvYWRVcmw6IHVybCB9KTtcbiAgICAgIGFuYWx5dGljcy50cmFjaygnY29udmVyc2lvbl9zdWNjZWVkZWQnLCB7IGpvYklkIH0pO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgY2guZW1pdCgncHJvZ3Jlc3MnLCB7IHN0YWdlOiAnZmFpbGVkJywgZXJyb3I6IGUubWVzc2FnZSB8fCAnQ29udmVyc2lvbiBmYWlsZWQnIH0pO1xuICAgICAgYW5hbHl0aWNzLnRyYWNrKCdjb252ZXJzaW9uX2ZhaWxlZCcsIHsgam9iSWQgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGpvYklkIH0pO1xufVxuIl0sIm5hbWVzIjpbInoiLCJnZXRTdG9yYWdlIiwiZGVyaXZlT3V0cHV0TmFtZSIsImZha2VDb252ZXJ0QnVmZmVyIiwiZ2V0Q2hhbm5lbCIsImNvbnZlcnNpb25RdWV1ZSIsImlzVmFsaWRNYXBwaW5nIiwiaW5mZXJUeXBlRnJvbU5hbWUiLCJhbmFseXRpY3MiLCJyYXRlTGltaXQiLCJjb25maWciLCJjb252ZXJ0TG9jYWxNYWNPUyIsImV4dHJhY3RFbWJlZGRlZFBkZiIsInJ1bnRpbWUiLCJzY2hlbWEiLCJvYmplY3QiLCJmaWxlSWQiLCJzdHJpbmciLCJzb3VyY2VFeHQiLCJ0YXJnZXRFeHQiLCJQT1NUIiwicmVxIiwiaXAiLCJoZWFkZXJzIiwiZ2V0IiwiTnVtYmVyIiwicHJvY2VzcyIsImVudiIsIlJBVEVfTElNSVRfUEVSX0hPVVIiLCJSZXNwb25zZSIsInN0YXR1cyIsImJvZHkiLCJqc29uIiwicGFyc2UiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZGF0YSIsInN0b3JhZ2UiLCJsb2FkZWQiLCJsb2FkIiwibWV0YSIsImtpbmQiLCJuYW1lIiwiam9iSWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiY2giLCJ0cmFjayIsInNvdXJjZSIsInRhcmdldCIsInB1c2giLCJlbWl0Iiwic3RhZ2UiLCJwcm9ncmVzcyIsIlByb21pc2UiLCJyIiwic2V0VGltZW91dCIsIm91dE5hbWUiLCJvdXRCdWYiLCJ0b0xvd2VyQ2FzZSIsImJhY2tlbmQiLCJwbGF0Zm9ybSIsIm91dE1ldGEiLCJzYXZlIiwidXJsIiwiaWQiLCJkb3dubG9hZFVybCIsImUiLCJlcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/convert/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/analytics/index.ts":
/*!********************************!*\
  !*** ./lib/analytics/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics)\n/* harmony export */ });\nclass NoopAnalytics {\n    track() {}\n}\nconst analytics = new NoopAnalytics();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYW5hbHl0aWNzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFNQSxNQUFNQTtJQUNKQyxRQUFRLENBQUM7QUFDWDtBQUVPLE1BQU1DLFlBQThCLElBQUlGLGdCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL2l3b3JrLW9mZmljZS1jb252ZXJ0ZXIvLi9saWIvYW5hbHl0aWNzL2luZGV4LnRzP2EzNmEiXSwic291cmNlc0NvbnRlbnQiOlsidHlwZSBFdmVudE5hbWUgPSAnY29udmVyc2lvbl9zdGFydGVkJyB8ICdjb252ZXJzaW9uX3N1Y2NlZWRlZCcgfCAnY29udmVyc2lvbl9mYWlsZWQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc0FkYXB0ZXIge1xuICB0cmFjazogKGV2ZW50OiBFdmVudE5hbWUsIHByb3BzPzogUmVjb3JkPHN0cmluZywgYW55PikgPT4gdm9pZDtcbn1cblxuY2xhc3MgTm9vcEFuYWx5dGljcyBpbXBsZW1lbnRzIEFuYWx5dGljc0FkYXB0ZXIge1xuICB0cmFjaygpIHt9XG59XG5cbmV4cG9ydCBjb25zdCBhbmFseXRpY3M6IEFuYWx5dGljc0FkYXB0ZXIgPSBuZXcgTm9vcEFuYWx5dGljcygpO1xuXG4iXSwibmFtZXMiOlsiTm9vcEFuYWx5dGljcyIsInRyYWNrIiwiYW5hbHl0aWNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/analytics/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/config.ts":
/*!***********************!*\
  !*** ./lib/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config)\n/* harmony export */ });\nconst config = {\n    backend: process.env.CONVERSION_BACKEND || \"cloudconvert\",\n    uploadMaxBytes: Number(process.env.UPLOAD_MAX_BYTES || 2 * 1024 * 1024 * 1024),\n    autoDeleteMinutes: Number(process.env.AUTO_DELETE_MINUTES || 30),\n    enableVirusScan: String(process.env.ENABLE_VIRUS_SCAN || \"false\") === \"true\",\n    rateLimitPerHour: Number(process.env.RATE_LIMIT_PER_HOUR || 60),\n    storageDriver: process.env.STORAGE_DRIVER || \"memory\",\n    diskPath: process.env.DISK_STORAGE_PATH || \".data/storage\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxTQUFTO0lBQ3BCQyxTQUFVQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQixJQUFJO0lBQzVDQyxnQkFBZ0JDLE9BQU9KLFFBQVFDLEdBQUcsQ0FBQ0ksZ0JBQWdCLElBQUksSUFBSSxPQUFPLE9BQU87SUFDekVDLG1CQUFtQkYsT0FBT0osUUFBUUMsR0FBRyxDQUFDTSxtQkFBbUIsSUFBSTtJQUM3REMsaUJBQWlCQyxPQUFPVCxRQUFRQyxHQUFHLENBQUNTLGlCQUFpQixJQUFJLGFBQWE7SUFDdEVDLGtCQUFrQlAsT0FBT0osUUFBUUMsR0FBRyxDQUFDVyxtQkFBbUIsSUFBSTtJQUM1REMsZUFBZ0JiLFFBQVFDLEdBQUcsQ0FBQ2EsY0FBYyxJQUFJO0lBQzlDQyxVQUFVZixRQUFRQyxHQUFHLENBQUNlLGlCQUFpQixJQUFJO0FBQzdDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pd29yay1vZmZpY2UtY29udmVydGVyLy4vbGliL2NvbmZpZy50cz8xMjg1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGJhY2tlbmQ6IChwcm9jZXNzLmVudi5DT05WRVJTSU9OX0JBQ0tFTkQgfHwgJ2Nsb3VkY29udmVydCcpIGFzICdjbG91ZGNvbnZlcnQnIHwgJ2xvY2FsJyxcbiAgdXBsb2FkTWF4Qnl0ZXM6IE51bWJlcihwcm9jZXNzLmVudi5VUExPQURfTUFYX0JZVEVTIHx8IDIgKiAxMDI0ICogMTAyNCAqIDEwMjQpLFxuICBhdXRvRGVsZXRlTWludXRlczogTnVtYmVyKHByb2Nlc3MuZW52LkFVVE9fREVMRVRFX01JTlVURVMgfHwgMzApLFxuICBlbmFibGVWaXJ1c1NjYW46IFN0cmluZyhwcm9jZXNzLmVudi5FTkFCTEVfVklSVVNfU0NBTiB8fCAnZmFsc2UnKSA9PT0gJ3RydWUnLFxuICByYXRlTGltaXRQZXJIb3VyOiBOdW1iZXIocHJvY2Vzcy5lbnYuUkFURV9MSU1JVF9QRVJfSE9VUiB8fCA2MCksXG4gIHN0b3JhZ2VEcml2ZXI6IChwcm9jZXNzLmVudi5TVE9SQUdFX0RSSVZFUiB8fCAnbWVtb3J5JykgYXMgJ21lbW9yeScgfCAnZGlzaycgfCAnczMnLFxuICBkaXNrUGF0aDogcHJvY2Vzcy5lbnYuRElTS19TVE9SQUdFX1BBVEggfHwgJy5kYXRhL3N0b3JhZ2UnLFxufTtcblxuIl0sIm5hbWVzIjpbImNvbmZpZyIsImJhY2tlbmQiLCJwcm9jZXNzIiwiZW52IiwiQ09OVkVSU0lPTl9CQUNLRU5EIiwidXBsb2FkTWF4Qnl0ZXMiLCJOdW1iZXIiLCJVUExPQURfTUFYX0JZVEVTIiwiYXV0b0RlbGV0ZU1pbnV0ZXMiLCJBVVRPX0RFTEVURV9NSU5VVEVTIiwiZW5hYmxlVmlydXNTY2FuIiwiU3RyaW5nIiwiRU5BQkxFX1ZJUlVTX1NDQU4iLCJyYXRlTGltaXRQZXJIb3VyIiwiUkFURV9MSU1JVF9QRVJfSE9VUiIsInN0b3JhZ2VEcml2ZXIiLCJTVE9SQUdFX0RSSVZFUiIsImRpc2tQYXRoIiwiRElTS19TVE9SQUdFX1BBVEgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/config.ts\n");

/***/ }),

/***/ "(rsc)/./lib/conversion/mappings.ts":
/*!************************************!*\
  !*** ./lib/conversion/mappings.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUPPORTED: () => (/* binding */ SUPPORTED),\n/* harmony export */   formatBytes: () => (/* binding */ formatBytes),\n/* harmony export */   getExt: () => (/* binding */ getExt),\n/* harmony export */   inferTypeFromName: () => (/* binding */ inferTypeFromName),\n/* harmony export */   isValidMapping: () => (/* binding */ isValidMapping),\n/* harmony export */   targetMime: () => (/* binding */ targetMime)\n/* harmony export */ });\nconst SUPPORTED = {\n    pages: [\n        \"docx\",\n        \"rtf\",\n        \"pdf\"\n    ],\n    numbers: [\n        \"xlsx\",\n        \"csv\",\n        \"pdf\"\n    ],\n    keynote: [\n        \"pptx\",\n        \"pdf\"\n    ]\n};\nfunction getExt(name) {\n    const m = /\\.([^.]+)$/.exec(name);\n    return (m?.[1] || \"\").toLowerCase();\n}\nfunction inferTypeFromName(name) {\n    const ext = getExt(name);\n    if (ext === \"pages\") return \"pages\";\n    if (ext === \"numbers\") return \"numbers\";\n    if (ext === \"key\") return \"keynote\";\n    return \"pages\";\n}\nfunction isValidMapping(type, target) {\n    return SUPPORTED[type].includes(target);\n}\nfunction targetMime(target) {\n    switch(target){\n        case \"docx\":\n            return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n        case \"rtf\":\n            return \"application/rtf\";\n        case \"pdf\":\n            return \"application/pdf\";\n        case \"xlsx\":\n            return \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n        case \"csv\":\n            return \"text/csv\";\n        case \"pptx\":\n            return \"application/vnd.openxmlformats-officedocument.presentationml.presentation\";\n        default:\n            return \"application/octet-stream\";\n    }\n}\nfunction formatBytes(bytes) {\n    if (bytes === 0) return \"0 B\";\n    const k = 1024;\n    const sizes = [\n        \"B\",\n        \"KB\",\n        \"MB\",\n        \"GB\",\n        \"TB\"\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29udmVyc2lvbi9tYXBwaW5ncy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBTyxNQUFNQSxZQUFZO0lBQ3ZCQyxPQUFPO1FBQUM7UUFBUTtRQUFPO0tBQU07SUFDN0JDLFNBQVM7UUFBQztRQUFRO1FBQU87S0FBTTtJQUMvQkMsU0FBUztRQUFDO1FBQVE7S0FBTTtBQUMxQixFQUFXO0FBSUosU0FBU0MsT0FBT0MsSUFBWTtJQUNqQyxNQUFNQyxJQUFJLGFBQWFDLElBQUksQ0FBQ0Y7SUFDNUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUMsRUFBR0UsV0FBVztBQUNuQztBQUVPLFNBQVNDLGtCQUFrQkosSUFBWTtJQUM1QyxNQUFNSyxNQUFNTixPQUFPQztJQUNuQixJQUFJSyxRQUFRLFNBQVMsT0FBTztJQUM1QixJQUFJQSxRQUFRLFdBQVcsT0FBTztJQUM5QixJQUFJQSxRQUFRLE9BQU8sT0FBTztJQUMxQixPQUFPO0FBQ1Q7QUFFTyxTQUFTQyxlQUFlQyxJQUFlLEVBQUVDLE1BQWM7SUFDNUQsT0FBT2IsU0FBUyxDQUFDWSxLQUFLLENBQUNFLFFBQVEsQ0FBQ0Q7QUFDbEM7QUFFTyxTQUFTRSxXQUFXRixNQUFjO0lBQ3ZDLE9BQVFBO1FBQ04sS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1Q7WUFDRSxPQUFPO0lBQ1g7QUFDRjtBQUVPLFNBQVNHLFlBQVlDLEtBQWE7SUFDdkMsSUFBSUEsVUFBVSxHQUFHLE9BQU87SUFDeEIsTUFBTUMsSUFBSTtJQUNWLE1BQU1DLFFBQVE7UUFBQztRQUFLO1FBQU07UUFBTTtRQUFNO0tBQUs7SUFDM0MsTUFBTUMsSUFBSUMsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxHQUFHLENBQUNOLFNBQVNJLEtBQUtFLEdBQUcsQ0FBQ0w7SUFDaEQsT0FBT00sV0FBVyxDQUFDUCxRQUFRSSxLQUFLSSxHQUFHLENBQUNQLEdBQUdFLEVBQUMsRUFBR00sT0FBTyxDQUFDLE1BQU0sTUFBTVAsS0FBSyxDQUFDQyxFQUFFO0FBQ3pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXdvcmstb2ZmaWNlLWNvbnZlcnRlci8uL2xpYi9jb252ZXJzaW9uL21hcHBpbmdzLnRzPzM1MDMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNVUFBPUlRFRCA9IHtcbiAgcGFnZXM6IFsnZG9jeCcsICdydGYnLCAncGRmJ10sXG4gIG51bWJlcnM6IFsneGxzeCcsICdjc3YnLCAncGRmJ10sXG4gIGtleW5vdGU6IFsncHB0eCcsICdwZGYnXSxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIElXb3JrS2luZCA9IGtleW9mIHR5cGVvZiBTVVBQT1JURUQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgbSA9IC9cXC4oW14uXSspJC8uZXhlYyhuYW1lKTtcbiAgcmV0dXJuIChtPy5bMV0gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZlclR5cGVGcm9tTmFtZShuYW1lOiBzdHJpbmcpOiBJV29ya0tpbmQge1xuICBjb25zdCBleHQgPSBnZXRFeHQobmFtZSk7XG4gIGlmIChleHQgPT09ICdwYWdlcycpIHJldHVybiAncGFnZXMnO1xuICBpZiAoZXh0ID09PSAnbnVtYmVycycpIHJldHVybiAnbnVtYmVycyc7XG4gIGlmIChleHQgPT09ICdrZXknKSByZXR1cm4gJ2tleW5vdGUnO1xuICByZXR1cm4gJ3BhZ2VzJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRNYXBwaW5nKHR5cGU6IElXb3JrS2luZCwgdGFyZ2V0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIFNVUFBPUlRFRFt0eXBlXS5pbmNsdWRlcyh0YXJnZXQgYXMgYW55KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldE1pbWUodGFyZ2V0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBzd2l0Y2ggKHRhcmdldCkge1xuICAgIGNhc2UgJ2RvY3gnOlxuICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCc7XG4gICAgY2FzZSAncnRmJzpcbiAgICAgIHJldHVybiAnYXBwbGljYXRpb24vcnRmJztcbiAgICBjYXNlICdwZGYnOlxuICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9wZGYnO1xuICAgIGNhc2UgJ3hsc3gnOlxuICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc7XG4gICAgY2FzZSAnY3N2JzpcbiAgICAgIHJldHVybiAndGV4dC9jc3YnO1xuICAgIGNhc2UgJ3BwdHgnOlxuICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwucHJlc2VudGF0aW9uJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRCeXRlcyhieXRlczogbnVtYmVyKSB7XG4gIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEInO1xuICBjb25zdCBrID0gMTAyNDtcbiAgY29uc3Qgc2l6ZXMgPSBbJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInXTtcbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXTtcbn1cblxuIl0sIm5hbWVzIjpbIlNVUFBPUlRFRCIsInBhZ2VzIiwibnVtYmVycyIsImtleW5vdGUiLCJnZXRFeHQiLCJuYW1lIiwibSIsImV4ZWMiLCJ0b0xvd2VyQ2FzZSIsImluZmVyVHlwZUZyb21OYW1lIiwiZXh0IiwiaXNWYWxpZE1hcHBpbmciLCJ0eXBlIiwidGFyZ2V0IiwiaW5jbHVkZXMiLCJ0YXJnZXRNaW1lIiwiZm9ybWF0Qnl0ZXMiLCJieXRlcyIsImsiLCJzaXplcyIsImkiLCJNYXRoIiwiZmxvb3IiLCJsb2ciLCJwYXJzZUZsb2F0IiwicG93IiwidG9GaXhlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/conversion/mappings.ts\n");

/***/ }),

/***/ "(rsc)/./lib/conversion/providers/embedded-preview.ts":
/*!******************************************************!*\
  !*** ./lib/conversion/providers/embedded-preview.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractEmbeddedPdf: () => (/* binding */ extractEmbeddedPdf)\n/* harmony export */ });\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jszip */ \"(rsc)/./node_modules/jszip/lib/index.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_0__);\n\n// Best-effort extraction of embedded QuickLook/Preview.pdf from iWork files.\n// Works for many modern .pages/.numbers/.key (they are ZIP containers with QuickLook previews).\n// Returns a Buffer of the PDF preview if found, otherwise null.\nasync function extractEmbeddedPdf(input) {\n    // Quick zip signature checks (PK\\x03\\x04 or empty zip PK\\x05\\x06)\n    if (input.length < 4) return null;\n    const sig = input.subarray(0, 4).toString(\"binary\");\n    if (sig !== \"PK\\x03\\x04\" && sig !== \"PK\\x05\\x06\") return null;\n    const zip = await jszip__WEBPACK_IMPORTED_MODULE_0___default().loadAsync(input).catch(()=>null);\n    if (!zip) return null;\n    const candidateNames = [\n        \"QuickLook/Preview.pdf\",\n        \"QuickLook/preview.pdf\",\n        \"preview.pdf\",\n        \"Preview.pdf\",\n        \"QuickLook/Thumbnail.pdf\"\n    ];\n    // Create case-insensitive lookup\n    const filesByLower = new Map();\n    Object.keys(zip.files).forEach((name)=>filesByLower.set(name.toLowerCase(), name));\n    for (const name of candidateNames){\n        const found = filesByLower.get(name.toLowerCase());\n        if (found) {\n            const file = zip.file(found);\n            if (file) {\n                const buf = await file.async(\"nodebuffer\");\n                // quick sanity check for PDF header\n                if (buf.subarray(0, 5).toString(\"utf8\") === \"%PDF-\") return buf;\n            }\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29udmVyc2lvbi9wcm92aWRlcnMvZW1iZWRkZWQtcHJldmlldy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUI7QUFFekIsNkVBQTZFO0FBQzdFLGdHQUFnRztBQUNoRyxnRUFBZ0U7QUFDekQsZUFBZUMsbUJBQW1CQyxLQUFhO0lBQ3BELGtFQUFrRTtJQUNsRSxJQUFJQSxNQUFNQyxNQUFNLEdBQUcsR0FBRyxPQUFPO0lBQzdCLE1BQU1DLE1BQU1GLE1BQU1HLFFBQVEsQ0FBQyxHQUFHLEdBQUdDLFFBQVEsQ0FBQztJQUMxQyxJQUFJRixRQUFRLGdCQUFnQkEsUUFBUSxjQUFjLE9BQU87SUFFekQsTUFBTUcsTUFBTSxNQUFNUCxzREFBZSxDQUFDRSxPQUFPTyxLQUFLLENBQUMsSUFBTTtJQUNyRCxJQUFJLENBQUNGLEtBQUssT0FBTztJQUVqQixNQUFNRyxpQkFBaUI7UUFDckI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsaUNBQWlDO0lBQ2pDLE1BQU1DLGVBQWUsSUFBSUM7SUFDekJDLE9BQU9DLElBQUksQ0FBQ1AsSUFBSVEsS0FBSyxFQUFFQyxPQUFPLENBQUMsQ0FBQ0MsT0FBU04sYUFBYU8sR0FBRyxDQUFDRCxLQUFLRSxXQUFXLElBQUlGO0lBRTlFLEtBQUssTUFBTUEsUUFBUVAsZUFBZ0I7UUFDakMsTUFBTVUsUUFBUVQsYUFBYVUsR0FBRyxDQUFDSixLQUFLRSxXQUFXO1FBQy9DLElBQUlDLE9BQU87WUFDVCxNQUFNRSxPQUFPZixJQUFJZSxJQUFJLENBQUNGO1lBQ3RCLElBQUlFLE1BQU07Z0JBQ1IsTUFBTUMsTUFBTSxNQUFNRCxLQUFLRSxLQUFLLENBQUM7Z0JBQzdCLG9DQUFvQztnQkFDcEMsSUFBSUQsSUFBSWxCLFFBQVEsQ0FBQyxHQUFHLEdBQUdDLFFBQVEsQ0FBQyxZQUFZLFNBQVMsT0FBT2lCO1lBQzlEO1FBQ0Y7SUFDRjtJQUNBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2l3b3JrLW9mZmljZS1jb252ZXJ0ZXIvLi9saWIvY29udmVyc2lvbi9wcm92aWRlcnMvZW1iZWRkZWQtcHJldmlldy50cz9lMTQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCdcblxuLy8gQmVzdC1lZmZvcnQgZXh0cmFjdGlvbiBvZiBlbWJlZGRlZCBRdWlja0xvb2svUHJldmlldy5wZGYgZnJvbSBpV29yayBmaWxlcy5cbi8vIFdvcmtzIGZvciBtYW55IG1vZGVybiAucGFnZXMvLm51bWJlcnMvLmtleSAodGhleSBhcmUgWklQIGNvbnRhaW5lcnMgd2l0aCBRdWlja0xvb2sgcHJldmlld3MpLlxuLy8gUmV0dXJucyBhIEJ1ZmZlciBvZiB0aGUgUERGIHByZXZpZXcgaWYgZm91bmQsIG90aGVyd2lzZSBudWxsLlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RFbWJlZGRlZFBkZihpbnB1dDogQnVmZmVyKTogUHJvbWlzZTxCdWZmZXIgfCBudWxsPiB7XG4gIC8vIFF1aWNrIHppcCBzaWduYXR1cmUgY2hlY2tzIChQS1xceDAzXFx4MDQgb3IgZW1wdHkgemlwIFBLXFx4MDVcXHgwNilcbiAgaWYgKGlucHV0Lmxlbmd0aCA8IDQpIHJldHVybiBudWxsXG4gIGNvbnN0IHNpZyA9IGlucHV0LnN1YmFycmF5KDAsIDQpLnRvU3RyaW5nKCdiaW5hcnknKVxuICBpZiAoc2lnICE9PSAnUEtcXHgwM1xceDA0JyAmJiBzaWcgIT09ICdQS1xceDA1XFx4MDYnKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IHppcCA9IGF3YWl0IEpTWmlwLmxvYWRBc3luYyhpbnB1dCkuY2F0Y2goKCkgPT4gbnVsbClcbiAgaWYgKCF6aXApIHJldHVybiBudWxsXG5cbiAgY29uc3QgY2FuZGlkYXRlTmFtZXMgPSBbXG4gICAgJ1F1aWNrTG9vay9QcmV2aWV3LnBkZicsXG4gICAgJ1F1aWNrTG9vay9wcmV2aWV3LnBkZicsXG4gICAgJ3ByZXZpZXcucGRmJyxcbiAgICAnUHJldmlldy5wZGYnLFxuICAgICdRdWlja0xvb2svVGh1bWJuYWlsLnBkZicsXG4gIF1cblxuICAvLyBDcmVhdGUgY2FzZS1pbnNlbnNpdGl2ZSBsb29rdXBcbiAgY29uc3QgZmlsZXNCeUxvd2VyID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKVxuICBPYmplY3Qua2V5cyh6aXAuZmlsZXMpLmZvckVhY2goKG5hbWUpID0+IGZpbGVzQnlMb3dlci5zZXQobmFtZS50b0xvd2VyQ2FzZSgpLCBuYW1lKSlcblxuICBmb3IgKGNvbnN0IG5hbWUgb2YgY2FuZGlkYXRlTmFtZXMpIHtcbiAgICBjb25zdCBmb3VuZCA9IGZpbGVzQnlMb3dlci5nZXQobmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgIGlmIChmb3VuZCkge1xuICAgICAgY29uc3QgZmlsZSA9IHppcC5maWxlKGZvdW5kKVxuICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgY29uc3QgYnVmID0gYXdhaXQgZmlsZS5hc3luYygnbm9kZWJ1ZmZlcicpXG4gICAgICAgIC8vIHF1aWNrIHNhbml0eSBjaGVjayBmb3IgUERGIGhlYWRlclxuICAgICAgICBpZiAoYnVmLnN1YmFycmF5KDAsIDUpLnRvU3RyaW5nKCd1dGY4JykgPT09ICclUERGLScpIHJldHVybiBidWZcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuIl0sIm5hbWVzIjpbIkpTWmlwIiwiZXh0cmFjdEVtYmVkZGVkUGRmIiwiaW5wdXQiLCJsZW5ndGgiLCJzaWciLCJzdWJhcnJheSIsInRvU3RyaW5nIiwiemlwIiwibG9hZEFzeW5jIiwiY2F0Y2giLCJjYW5kaWRhdGVOYW1lcyIsImZpbGVzQnlMb3dlciIsIk1hcCIsIk9iamVjdCIsImtleXMiLCJmaWxlcyIsImZvckVhY2giLCJuYW1lIiwic2V0IiwidG9Mb3dlckNhc2UiLCJmb3VuZCIsImdldCIsImZpbGUiLCJidWYiLCJhc3luYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/conversion/providers/embedded-preview.ts\n");

/***/ }),

/***/ "(rsc)/./lib/conversion/providers/local-macos.ts":
/*!*************************************************!*\
  !*** ./lib/conversion/providers/local-macos.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertLocalMacOS: () => (/* binding */ convertLocalMacOS)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_conversion_mappings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/conversion/mappings */ \"(rsc)/./lib/conversion/mappings.ts\");\n\n\n\n\n\n\nconst execFileAsync = (0,util__WEBPACK_IMPORTED_MODULE_4__.promisify)(child_process__WEBPACK_IMPORTED_MODULE_0__.execFile);\n// Convert using installed iWork apps on macOS via AppleScript.\nasync function convertLocalMacOS(inputBuffer, inputName, targetExt) {\n    if (process.platform !== \"darwin\") {\n        throw new Error(\"Local macOS conversion requires macOS\");\n    }\n    const kind = (0,_lib_conversion_mappings__WEBPACK_IMPORTED_MODULE_5__.inferTypeFromName)(inputName); // pages | numbers | keynote\n    const appName = kind === \"pages\" ? \"Pages\" : kind === \"numbers\" ? \"Numbers\" : \"Keynote\";\n    const exportAs = (()=>{\n        const t = targetExt.toLowerCase();\n        if (kind === \"pages\") {\n            if (t === \"pdf\") return \"PDF\";\n            if (t === \"docx\") return \"Microsoft Word\";\n            if (t === \"rtf\") return \"RTF\";\n        } else if (kind === \"numbers\") {\n            if (t === \"pdf\") return \"PDF\";\n            if (t === \"xlsx\") return \"Excel\";\n            if (t === \"csv\") return \"CSV\";\n        } else if (kind === \"keynote\") {\n            if (t === \"pdf\") return \"PDF\";\n            if (t === \"pptx\") return \"Microsoft PowerPoint\";\n        }\n        throw new Error(`Unsupported export: ${kind} -> ${targetExt}`);\n    })();\n    const tmpBase = await fs__WEBPACK_IMPORTED_MODULE_1__.promises.mkdtemp(path__WEBPACK_IMPORTED_MODULE_3___default().join((0,os__WEBPACK_IMPORTED_MODULE_2__.tmpdir)(), \"iwork-conv-\"));\n    const inputPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(tmpBase, inputName);\n    const outName = inputName.replace(/\\.[^.]+$/, \"\") + `.${targetExt}`;\n    const outputPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(tmpBase, outName);\n    await fs__WEBPACK_IMPORTED_MODULE_1__.promises.writeFile(inputPath, inputBuffer);\n    // AppleScript to open, export, and close the document\n    const esc = (s)=>s.replace(/\"/g, '\\\\\"');\n    const script = `\nset inFile to POSIX file \"${esc(inputPath)}\"\nset outFile to POSIX file \"${esc(outputPath)}\"\ntell application \"${appName}\"\n  activate\n  set doc to open inFile\n  delay 0.5\n  export doc to outFile as ${exportAs}\n  close doc saving no\nend tell\n`;\n    await execFileAsync(\"osascript\", [\n        \"-e\",\n        script\n    ]);\n    // Wait up to 5s for the exported file to appear (some apps finish async)\n    const start = Date.now();\n    let data = null;\n    while(Date.now() - start < 5000){\n        try {\n            data = await fs__WEBPACK_IMPORTED_MODULE_1__.promises.readFile(outputPath);\n            break;\n        } catch  {\n            await new Promise((r)=>setTimeout(r, 100));\n        }\n    }\n    if (!data) throw new Error(\"Export did not produce an output file\");\n    // Cleanup best-effort\n    fs__WEBPACK_IMPORTED_MODULE_1__.promises.rm(tmpBase, {\n        recursive: true,\n        force: true\n    }).catch(()=>{});\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29udmVyc2lvbi9wcm92aWRlcnMvbG9jYWwtbWFjb3MudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBQ0w7QUFDUjtBQUNKO0FBQ1M7QUFDNkI7QUFFOUQsTUFBTU8sZ0JBQWdCRiwrQ0FBU0EsQ0FBQ0wsbURBQVFBO0FBRXhDLCtEQUErRDtBQUN4RCxlQUFlUSxrQkFDcEJDLFdBQW1CLEVBQ25CQyxTQUFpQixFQUNqQkMsU0FBaUI7SUFFakIsSUFBSUMsUUFBUUMsUUFBUSxLQUFLLFVBQVU7UUFDakMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBRUEsTUFBTUMsT0FBT1QsMkVBQWlCQSxDQUFDSSxZQUFZLDRCQUE0QjtJQUN2RSxNQUFNTSxVQUFVRCxTQUFTLFVBQVUsVUFBVUEsU0FBUyxZQUFZLFlBQVk7SUFFOUUsTUFBTUUsV0FBVyxDQUFDO1FBQ2hCLE1BQU1DLElBQUlQLFVBQVVRLFdBQVc7UUFDL0IsSUFBSUosU0FBUyxTQUFTO1lBQ3BCLElBQUlHLE1BQU0sT0FBTyxPQUFPO1lBQ3hCLElBQUlBLE1BQU0sUUFBUSxPQUFPO1lBQ3pCLElBQUlBLE1BQU0sT0FBTyxPQUFPO1FBQzFCLE9BQU8sSUFBSUgsU0FBUyxXQUFXO1lBQzdCLElBQUlHLE1BQU0sT0FBTyxPQUFPO1lBQ3hCLElBQUlBLE1BQU0sUUFBUSxPQUFPO1lBQ3pCLElBQUlBLE1BQU0sT0FBTyxPQUFPO1FBQzFCLE9BQU8sSUFBSUgsU0FBUyxXQUFXO1lBQzdCLElBQUlHLE1BQU0sT0FBTyxPQUFPO1lBQ3hCLElBQUlBLE1BQU0sUUFBUSxPQUFPO1FBQzNCO1FBQ0EsTUFBTSxJQUFJSixNQUFNLENBQUMsb0JBQW9CLEVBQUVDLEtBQUssSUFBSSxFQUFFSixVQUFVLENBQUM7SUFDL0Q7SUFFQSxNQUFNUyxVQUFVLE1BQU1sQix3Q0FBRUEsQ0FBQ21CLE9BQU8sQ0FBQ2pCLGdEQUFTLENBQUNELDBDQUFNQSxJQUFJO0lBQ3JELE1BQU1vQixZQUFZbkIsZ0RBQVMsQ0FBQ2dCLFNBQVNWO0lBQ3JDLE1BQU1jLFVBQVVkLFVBQVVlLE9BQU8sQ0FBQyxZQUFZLE1BQU0sQ0FBQyxDQUFDLEVBQUVkLFVBQVUsQ0FBQztJQUNuRSxNQUFNZSxhQUFhdEIsZ0RBQVMsQ0FBQ2dCLFNBQVNJO0lBQ3RDLE1BQU10Qix3Q0FBRUEsQ0FBQ3lCLFNBQVMsQ0FBQ0osV0FBV2Q7SUFFOUIsc0RBQXNEO0lBQ3RELE1BQU1tQixNQUFNLENBQUNDLElBQWNBLEVBQUVKLE9BQU8sQ0FBQyxNQUFNO0lBQzNDLE1BQU1LLFNBQVMsQ0FBQzswQkFDUSxFQUFFRixJQUFJTCxXQUFXOzJCQUNoQixFQUFFSyxJQUFJRixZQUFZO2tCQUMzQixFQUFFVixRQUFROzs7OzJCQUlELEVBQUVDLFNBQVM7OztBQUd0QyxDQUFDO0lBRUMsTUFBTVYsY0FBYyxhQUFhO1FBQUM7UUFBTXVCO0tBQU87SUFDL0MseUVBQXlFO0lBQ3pFLE1BQU1DLFFBQVFDLEtBQUtDLEdBQUc7SUFDdEIsSUFBSUMsT0FBc0I7SUFDMUIsTUFBT0YsS0FBS0MsR0FBRyxLQUFLRixRQUFRLEtBQU07UUFDaEMsSUFBSTtZQUNGRyxPQUFPLE1BQU1oQyx3Q0FBRUEsQ0FBQ2lDLFFBQVEsQ0FBQ1Q7WUFDekI7UUFDRixFQUFFLE9BQU07WUFDTixNQUFNLElBQUlVLFFBQVEsQ0FBQ0MsSUFBTUMsV0FBV0QsR0FBRztRQUN6QztJQUNGO0lBQ0EsSUFBSSxDQUFDSCxNQUFNLE1BQU0sSUFBSXBCLE1BQU07SUFDM0Isc0JBQXNCO0lBQ3RCWix3Q0FBRUEsQ0FBQ3FDLEVBQUUsQ0FBQ25CLFNBQVM7UUFBRW9CLFdBQVc7UUFBTUMsT0FBTztJQUFLLEdBQUdDLEtBQUssQ0FBQyxLQUFPO0lBQzlELE9BQU9SO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pd29yay1vZmZpY2UtY29udmVydGVyLy4vbGliL2NvbnZlcnNpb24vcHJvdmlkZXJzL2xvY2FsLW1hY29zLnRzPzJlNWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhlY0ZpbGUgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgdG1wZGlyIH0gZnJvbSAnb3MnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tICd1dGlsJztcbmltcG9ydCB7IGluZmVyVHlwZUZyb21OYW1lIH0gZnJvbSAnQC9saWIvY29udmVyc2lvbi9tYXBwaW5ncyc7XG5cbmNvbnN0IGV4ZWNGaWxlQXN5bmMgPSBwcm9taXNpZnkoZXhlY0ZpbGUpO1xuXG4vLyBDb252ZXJ0IHVzaW5nIGluc3RhbGxlZCBpV29yayBhcHBzIG9uIG1hY09TIHZpYSBBcHBsZVNjcmlwdC5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb252ZXJ0TG9jYWxNYWNPUyhcbiAgaW5wdXRCdWZmZXI6IEJ1ZmZlcixcbiAgaW5wdXROYW1lOiBzdHJpbmcsXG4gIHRhcmdldEV4dDogc3RyaW5nLFxuKTogUHJvbWlzZTxCdWZmZXI+IHtcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICdkYXJ3aW4nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbCBtYWNPUyBjb252ZXJzaW9uIHJlcXVpcmVzIG1hY09TJyk7XG4gIH1cblxuICBjb25zdCBraW5kID0gaW5mZXJUeXBlRnJvbU5hbWUoaW5wdXROYW1lKTsgLy8gcGFnZXMgfCBudW1iZXJzIHwga2V5bm90ZVxuICBjb25zdCBhcHBOYW1lID0ga2luZCA9PT0gJ3BhZ2VzJyA/ICdQYWdlcycgOiBraW5kID09PSAnbnVtYmVycycgPyAnTnVtYmVycycgOiAnS2V5bm90ZSc7XG5cbiAgY29uc3QgZXhwb3J0QXMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHQgPSB0YXJnZXRFeHQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoa2luZCA9PT0gJ3BhZ2VzJykge1xuICAgICAgaWYgKHQgPT09ICdwZGYnKSByZXR1cm4gJ1BERic7XG4gICAgICBpZiAodCA9PT0gJ2RvY3gnKSByZXR1cm4gJ01pY3Jvc29mdCBXb3JkJztcbiAgICAgIGlmICh0ID09PSAncnRmJykgcmV0dXJuICdSVEYnO1xuICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ251bWJlcnMnKSB7XG4gICAgICBpZiAodCA9PT0gJ3BkZicpIHJldHVybiAnUERGJztcbiAgICAgIGlmICh0ID09PSAneGxzeCcpIHJldHVybiAnRXhjZWwnO1xuICAgICAgaWYgKHQgPT09ICdjc3YnKSByZXR1cm4gJ0NTVic7XG4gICAgfSBlbHNlIGlmIChraW5kID09PSAna2V5bm90ZScpIHtcbiAgICAgIGlmICh0ID09PSAncGRmJykgcmV0dXJuICdQREYnO1xuICAgICAgaWYgKHQgPT09ICdwcHR4JykgcmV0dXJuICdNaWNyb3NvZnQgUG93ZXJQb2ludCc7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZXhwb3J0OiAke2tpbmR9IC0+ICR7dGFyZ2V0RXh0fWApO1xuICB9KSgpO1xuXG4gIGNvbnN0IHRtcEJhc2UgPSBhd2FpdCBmcy5ta2R0ZW1wKHBhdGguam9pbih0bXBkaXIoKSwgJ2l3b3JrLWNvbnYtJykpO1xuICBjb25zdCBpbnB1dFBhdGggPSBwYXRoLmpvaW4odG1wQmFzZSwgaW5wdXROYW1lKTtcbiAgY29uc3Qgb3V0TmFtZSA9IGlucHV0TmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykgKyBgLiR7dGFyZ2V0RXh0fWA7XG4gIGNvbnN0IG91dHB1dFBhdGggPSBwYXRoLmpvaW4odG1wQmFzZSwgb3V0TmFtZSk7XG4gIGF3YWl0IGZzLndyaXRlRmlsZShpbnB1dFBhdGgsIGlucHV0QnVmZmVyKTtcblxuICAvLyBBcHBsZVNjcmlwdCB0byBvcGVuLCBleHBvcnQsIGFuZCBjbG9zZSB0aGUgZG9jdW1lbnRcbiAgY29uc3QgZXNjID0gKHM6IHN0cmluZykgPT4gcy5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJyk7XG4gIGNvbnN0IHNjcmlwdCA9IGBcbnNldCBpbkZpbGUgdG8gUE9TSVggZmlsZSBcIiR7ZXNjKGlucHV0UGF0aCl9XCJcbnNldCBvdXRGaWxlIHRvIFBPU0lYIGZpbGUgXCIke2VzYyhvdXRwdXRQYXRoKX1cIlxudGVsbCBhcHBsaWNhdGlvbiBcIiR7YXBwTmFtZX1cIlxuICBhY3RpdmF0ZVxuICBzZXQgZG9jIHRvIG9wZW4gaW5GaWxlXG4gIGRlbGF5IDAuNVxuICBleHBvcnQgZG9jIHRvIG91dEZpbGUgYXMgJHtleHBvcnRBc31cbiAgY2xvc2UgZG9jIHNhdmluZyBub1xuZW5kIHRlbGxcbmA7XG5cbiAgYXdhaXQgZXhlY0ZpbGVBc3luYygnb3Nhc2NyaXB0JywgWyctZScsIHNjcmlwdF0pO1xuICAvLyBXYWl0IHVwIHRvIDVzIGZvciB0aGUgZXhwb3J0ZWQgZmlsZSB0byBhcHBlYXIgKHNvbWUgYXBwcyBmaW5pc2ggYXN5bmMpXG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgbGV0IGRhdGE6IEJ1ZmZlciB8IG51bGwgPSBudWxsO1xuICB3aGlsZSAoRGF0ZS5ub3coKSAtIHN0YXJ0IDwgNTAwMCkge1xuICAgIHRyeSB7XG4gICAgICBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUob3V0cHV0UGF0aCk7XG4gICAgICBicmVhaztcbiAgICB9IGNhdGNoIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIDEwMCkpO1xuICAgIH1cbiAgfVxuICBpZiAoIWRhdGEpIHRocm93IG5ldyBFcnJvcignRXhwb3J0IGRpZCBub3QgcHJvZHVjZSBhbiBvdXRwdXQgZmlsZScpO1xuICAvLyBDbGVhbnVwIGJlc3QtZWZmb3J0XG4gIGZzLnJtKHRtcEJhc2UsIHsgcmVjdXJzaXZlOiB0cnVlLCBmb3JjZTogdHJ1ZSB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gIHJldHVybiBkYXRhO1xufVxuIl0sIm5hbWVzIjpbImV4ZWNGaWxlIiwicHJvbWlzZXMiLCJmcyIsInRtcGRpciIsInBhdGgiLCJwcm9taXNpZnkiLCJpbmZlclR5cGVGcm9tTmFtZSIsImV4ZWNGaWxlQXN5bmMiLCJjb252ZXJ0TG9jYWxNYWNPUyIsImlucHV0QnVmZmVyIiwiaW5wdXROYW1lIiwidGFyZ2V0RXh0IiwicHJvY2VzcyIsInBsYXRmb3JtIiwiRXJyb3IiLCJraW5kIiwiYXBwTmFtZSIsImV4cG9ydEFzIiwidCIsInRvTG93ZXJDYXNlIiwidG1wQmFzZSIsIm1rZHRlbXAiLCJqb2luIiwiaW5wdXRQYXRoIiwib3V0TmFtZSIsInJlcGxhY2UiLCJvdXRwdXRQYXRoIiwid3JpdGVGaWxlIiwiZXNjIiwicyIsInNjcmlwdCIsInN0YXJ0IiwiRGF0ZSIsIm5vdyIsImRhdGEiLCJyZWFkRmlsZSIsIlByb21pc2UiLCJyIiwic2V0VGltZW91dCIsInJtIiwicmVjdXJzaXZlIiwiZm9yY2UiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/conversion/providers/local-macos.ts\n");

/***/ }),

/***/ "(rsc)/./lib/conversion/service.ts":
/*!***********************************!*\
  !*** ./lib/conversion/service.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockCloudConversion: () => (/* binding */ MockCloudConversion),\n/* harmony export */   deriveOutputName: () => (/* binding */ deriveOutputName),\n/* harmony export */   fakeConvertBuffer: () => (/* binding */ fakeConvertBuffer),\n/* harmony export */   mimeFor: () => (/* binding */ mimeFor)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mappings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mappings */ \"(rsc)/./lib/conversion/mappings.ts\");\n\n\n// Default mock cloud converter to simulate real cloud provider\nclass MockCloudConversion {\n    async createJob({ fileBuffer, fileName, sourceExt, sourceKind, targetExt }) {\n        const id = crypto.randomUUID();\n        const emitter = new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        if (!(0,_mappings__WEBPACK_IMPORTED_MODULE_1__.isValidMapping)(sourceKind, targetExt)) {\n            queueMicrotask(()=>emitter.emit(\"progress\", {\n                    stage: \"failed\",\n                    error: \"Unsupported mapping\"\n                }));\n            return {\n                id,\n                emitter\n            };\n        }\n        // Simulate async conversion\n        setTimeout(()=>emitter.emit(\"progress\", {\n                stage: \"converting\",\n                progress: 35\n            }), 150);\n        setTimeout(()=>emitter.emit(\"progress\", {\n                stage: \"converting\",\n                progress: 70\n            }), 550);\n        setTimeout(()=>emitter.emit(\"progress\", {\n                stage: \"preparing\",\n                progress: 90\n            }), 900);\n        setTimeout(()=>emitter.emit(\"progress\", {\n                stage: \"done\",\n                progress: 100\n            }), 1200);\n        return {\n            id,\n            emitter\n        };\n    }\n}\nfunction deriveOutputName(inputName, targetExt) {\n    return inputName.replace(/\\.[^.]+$/, \"\") + \".\" + targetExt;\n}\nfunction fakeConvertBuffer(buf, targetExt, fileName) {\n    if (targetExt.toLowerCase() === \"pdf\") {\n        return generateSimplePdf(fileName);\n    }\n    // Create a trivial output for non-PDF targets (placeholder)\n    const header = Buffer.from(`Converted by iWork  Office Converter\\nTarget: ${targetExt}\\nFile: ${fileName}\\n\\n`, \"utf8\");\n    return Buffer.concat([\n        header,\n        buf.subarray(0, Math.min(buf.length, 1024))\n    ]);\n}\nfunction mimeFor(targetExt) {\n    return (0,_mappings__WEBPACK_IMPORTED_MODULE_1__.targetMime)(targetExt);\n}\n// Generate a valid, minimal single-page PDF with some placeholder text.\nfunction generateSimplePdf(fileName) {\n    const escapePdfText = (s)=>s.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n    const text = `Converted placeholder for ${fileName}`;\n    const contentStream = `BT /F1 24 Tf 72 720 Td (${escapePdfText(text)}) Tj ET`;\n    const header = \"%PDF-1.4\\n\";\n    const objects = [];\n    // 1: Catalog\n    objects[1] = \"<< /Type /Catalog /Pages 2 0 R >>\";\n    // 2: Pages\n    objects[2] = \"<< /Type /Pages /Count 1 /Kids [3 0 R] >>\";\n    // 3: Page\n    objects[3] = \"<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Contents 4 0 R /Resources << /Font << /F1 5 0 R >> >> >>\";\n    // 4: Contents (with stream)\n    const contentLen = Buffer.byteLength(contentStream, \"utf8\");\n    objects[4] = `<< /Length ${contentLen} >>\\nstream\\n${contentStream}\\nendstream`;\n    // 5: Font\n    objects[5] = \"<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>\";\n    // Build file and compute xref offsets\n    let offset = Buffer.byteLength(header, \"utf8\");\n    const parts = [\n        header\n    ];\n    const xrefOffsets = [\n        0\n    ]; // index 0 is the free object\n    for(let i = 1; i <= 5; i++){\n        const objHeader = `${i} 0 obj\\n`;\n        const objBody = `${objects[i]}\\n`;\n        const objEnd = \"endobj\\n\";\n        xrefOffsets[i] = offset;\n        parts.push(objHeader, objBody, objEnd);\n        offset += Buffer.byteLength(objHeader + objBody + objEnd, \"utf8\");\n    }\n    const xrefStart = offset;\n    const pad = (n)=>n.toString().padStart(10, \"0\");\n    let xref = \"xref\\n0 6\\n\";\n    xref += \"0000000000 65535 f \\n\";\n    for(let i = 1; i <= 5; i++){\n        xref += `${pad(xrefOffsets[i])} 00000 n \\n`;\n    }\n    const trailer = `trailer\\n<< /Size 6 /Root 1 0 R >>\\nstartxref\\n${xrefStart}\\n%%EOF\\n`;\n    parts.push(xref, trailer);\n    return Buffer.from(parts.join(\"\"), \"utf8\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNmLFFBQVE7SUFDdkMsTUFBTWlCLFFBQWtCO1FBQUNqQjtLQUFPO0lBQ2hDLE1BQU1rQixjQUF3QjtRQUFDO0tBQUUsRUFBRSw2QkFBNkI7SUFFaEUsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLEtBQUssR0FBR0EsSUFBSztRQUMzQixNQUFNQyxZQUFZLENBQUMsRUFBRUQsRUFBRSxRQUFRLENBQUM7UUFDaEMsTUFBTUUsVUFBVSxDQUFDLEVBQUVSLE9BQU8sQ0FBQ00sRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUNqQyxNQUFNRyxTQUFTO1FBQ2ZKLFdBQVcsQ0FBQ0MsRUFBRSxHQUFHSDtRQUNqQkMsTUFBTU0sSUFBSSxDQUFDSCxXQUFXQyxTQUFTQztRQUMvQk4sVUFBVWYsT0FBT2MsVUFBVSxDQUFDSyxZQUFZQyxVQUFVQyxRQUFRO0lBQzVEO0lBRUEsTUFBTUUsWUFBWVI7SUFDbEIsTUFBTVMsTUFBTSxDQUFDQyxJQUFjQSxFQUFFQyxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxJQUFJO0lBQ3JELElBQUlDLE9BQU87SUFDWEEsUUFBUTtJQUNSLElBQUssSUFBSVYsSUFBSSxHQUFHQSxLQUFLLEdBQUdBLElBQUs7UUFDM0JVLFFBQVEsQ0FBQyxFQUFFSixJQUFJUCxXQUFXLENBQUNDLEVBQUUsRUFBRSxXQUFXLENBQUM7SUFDN0M7SUFDQSxNQUFNVyxVQUFVLENBQUMsK0NBQStDLEVBQUVOLFVBQVUsU0FBUyxDQUFDO0lBQ3RGUCxNQUFNTSxJQUFJLENBQUNNLE1BQU1DO0lBRWpCLE9BQU83QixPQUFPQyxJQUFJLENBQUNlLE1BQU1jLElBQUksQ0FBQyxLQUFLO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXdvcmstb2ZmaWNlLWNvbnZlcnRlci8uL2xpYi9jb252ZXJzaW9uL3NlcnZpY2UudHM/YWRjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgaXNWYWxpZE1hcHBpbmcsIElXb3JrS2luZCwgdGFyZ2V0TWltZSB9IGZyb20gJy4vbWFwcGluZ3MnO1xuXG5leHBvcnQgdHlwZSBQcm9ncmVzc0V2ZW50ID0ge1xuICBzdGFnZTogJ3F1ZXVlZCcgfCAndXBsb2FkaW5nJyB8ICdjb252ZXJ0aW5nJyB8ICdwcmVwYXJpbmcnIHwgJ2RvbmUnIHwgJ2ZhaWxlZCc7XG4gIHByb2dyZXNzPzogbnVtYmVyO1xuICBkb3dubG9hZFVybD86IHN0cmluZztcbiAgZXJyb3I/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBKb2IgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2lvblNlcnZpY2Uge1xuICBjcmVhdGVKb2IoaW5wdXQ6IHtcbiAgICBmaWxlQnVmZmVyOiBCdWZmZXI7XG4gICAgZmlsZU5hbWU6IHN0cmluZztcbiAgICBzb3VyY2VFeHQ6IHN0cmluZztcbiAgICBzb3VyY2VLaW5kOiBJV29ya0tpbmQ7XG4gICAgdGFyZ2V0RXh0OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEpvYj47XG59XG5cbi8vIERlZmF1bHQgbW9jayBjbG91ZCBjb252ZXJ0ZXIgdG8gc2ltdWxhdGUgcmVhbCBjbG91ZCBwcm92aWRlclxuZXhwb3J0IGNsYXNzIE1vY2tDbG91ZENvbnZlcnNpb24gaW1wbGVtZW50cyBDb252ZXJzaW9uU2VydmljZSB7XG4gIGFzeW5jIGNyZWF0ZUpvYih7IGZpbGVCdWZmZXIsIGZpbGVOYW1lLCBzb3VyY2VFeHQsIHNvdXJjZUtpbmQsIHRhcmdldEV4dCB9OiBhbnkpOiBQcm9taXNlPEpvYj4ge1xuICAgIGNvbnN0IGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgaWYgKCFpc1ZhbGlkTWFwcGluZyhzb3VyY2VLaW5kLCB0YXJnZXRFeHQpKSB7XG4gICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBlbWl0dGVyLmVtaXQoJ3Byb2dyZXNzJywgeyBzdGFnZTogJ2ZhaWxlZCcsIGVycm9yOiAnVW5zdXBwb3J0ZWQgbWFwcGluZycgfSkpO1xuICAgICAgcmV0dXJuIHsgaWQsIGVtaXR0ZXIgfTtcbiAgICB9XG5cbiAgICAvLyBTaW11bGF0ZSBhc3luYyBjb252ZXJzaW9uXG4gICAgc2V0VGltZW91dCgoKSA9PiBlbWl0dGVyLmVtaXQoJ3Byb2dyZXNzJywgeyBzdGFnZTogJ2NvbnZlcnRpbmcnLCBwcm9ncmVzczogMzUgfSksIDE1MCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBlbWl0dGVyLmVtaXQoJ3Byb2dyZXNzJywgeyBzdGFnZTogJ2NvbnZlcnRpbmcnLCBwcm9ncmVzczogNzAgfSksIDU1MCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBlbWl0dGVyLmVtaXQoJ3Byb2dyZXNzJywgeyBzdGFnZTogJ3ByZXBhcmluZycsIHByb2dyZXNzOiA5MCB9KSwgOTAwKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IGVtaXR0ZXIuZW1pdCgncHJvZ3Jlc3MnLCB7IHN0YWdlOiAnZG9uZScsIHByb2dyZXNzOiAxMDAgfSksIDEyMDApO1xuXG4gICAgcmV0dXJuIHsgaWQsIGVtaXR0ZXIgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlT3V0cHV0TmFtZShpbnB1dE5hbWU6IHN0cmluZywgdGFyZ2V0RXh0OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGlucHV0TmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykgKyAnLicgKyB0YXJnZXRFeHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWtlQ29udmVydEJ1ZmZlcihidWY6IEJ1ZmZlciwgdGFyZ2V0RXh0OiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpOiBCdWZmZXIge1xuICBpZiAodGFyZ2V0RXh0LnRvTG93ZXJDYXNlKCkgPT09ICdwZGYnKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRlU2ltcGxlUGRmKGZpbGVOYW1lKTtcbiAgfVxuICAvLyBDcmVhdGUgYSB0cml2aWFsIG91dHB1dCBmb3Igbm9uLVBERiB0YXJnZXRzIChwbGFjZWhvbGRlcilcbiAgY29uc3QgaGVhZGVyID0gQnVmZmVyLmZyb20oXG4gICAgYENvbnZlcnRlZCBieSBpV29yayDinpwgT2ZmaWNlIENvbnZlcnRlclxcblRhcmdldDogJHt0YXJnZXRFeHR9XFxuRmlsZTogJHtmaWxlTmFtZX1cXG5cXG5gLFxuICAgICd1dGY4JyxcbiAgKTtcbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW2hlYWRlciwgYnVmLnN1YmFycmF5KDAsIE1hdGgubWluKGJ1Zi5sZW5ndGgsIDEwMjQpKV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWltZUZvcih0YXJnZXRFeHQ6IHN0cmluZykge1xuICByZXR1cm4gdGFyZ2V0TWltZSh0YXJnZXRFeHQpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHZhbGlkLCBtaW5pbWFsIHNpbmdsZS1wYWdlIFBERiB3aXRoIHNvbWUgcGxhY2Vob2xkZXIgdGV4dC5cbmZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlUGRmKGZpbGVOYW1lOiBzdHJpbmcpOiBCdWZmZXIge1xuICBjb25zdCBlc2NhcGVQZGZUZXh0ID0gKHM6IHN0cmluZykgPT4gcy5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIikucmVwbGFjZSgvXFwoL2csIFwiXFxcXChcIikucmVwbGFjZSgvXFwpL2csIFwiXFxcXClcIik7XG4gIGNvbnN0IHRleHQgPSBgQ29udmVydGVkIHBsYWNlaG9sZGVyIGZvciAke2ZpbGVOYW1lfWA7XG4gIGNvbnN0IGNvbnRlbnRTdHJlYW0gPSBgQlQgL0YxIDI0IFRmIDcyIDcyMCBUZCAoJHtlc2NhcGVQZGZUZXh0KHRleHQpfSkgVGogRVRgO1xuXG4gIGNvbnN0IGhlYWRlciA9ICclUERGLTEuNFxcbic7XG4gIGNvbnN0IG9iamVjdHM6IHN0cmluZ1tdID0gW107XG4gIC8vIDE6IENhdGFsb2dcbiAgb2JqZWN0c1sxXSA9ICc8PCAvVHlwZSAvQ2F0YWxvZyAvUGFnZXMgMiAwIFIgPj4nO1xuICAvLyAyOiBQYWdlc1xuICBvYmplY3RzWzJdID0gJzw8IC9UeXBlIC9QYWdlcyAvQ291bnQgMSAvS2lkcyBbMyAwIFJdID4+JztcbiAgLy8gMzogUGFnZVxuICBvYmplY3RzWzNdID0gJzw8IC9UeXBlIC9QYWdlIC9QYXJlbnQgMiAwIFIgL01lZGlhQm94IFswIDAgNjEyIDc5Ml0gL0NvbnRlbnRzIDQgMCBSIC9SZXNvdXJjZXMgPDwgL0ZvbnQgPDwgL0YxIDUgMCBSID4+ID4+ID4+JztcbiAgLy8gNDogQ29udGVudHMgKHdpdGggc3RyZWFtKVxuICBjb25zdCBjb250ZW50TGVuID0gQnVmZmVyLmJ5dGVMZW5ndGgoY29udGVudFN0cmVhbSwgJ3V0ZjgnKTtcbiAgb2JqZWN0c1s0XSA9IGA8PCAvTGVuZ3RoICR7Y29udGVudExlbn0gPj5cXG5zdHJlYW1cXG4ke2NvbnRlbnRTdHJlYW19XFxuZW5kc3RyZWFtYDtcbiAgLy8gNTogRm9udFxuICBvYmplY3RzWzVdID0gJzw8IC9UeXBlIC9Gb250IC9TdWJ0eXBlIC9UeXBlMSAvQmFzZUZvbnQgL0hlbHZldGljYSA+Pic7XG5cbiAgLy8gQnVpbGQgZmlsZSBhbmQgY29tcHV0ZSB4cmVmIG9mZnNldHNcbiAgbGV0IG9mZnNldCA9IEJ1ZmZlci5ieXRlTGVuZ3RoKGhlYWRlciwgJ3V0ZjgnKTtcbiAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gW2hlYWRlcl07XG4gIGNvbnN0IHhyZWZPZmZzZXRzOiBudW1iZXJbXSA9IFswXTsgLy8gaW5kZXggMCBpcyB0aGUgZnJlZSBvYmplY3RcblxuICBmb3IgKGxldCBpID0gMTsgaSA8PSA1OyBpKyspIHtcbiAgICBjb25zdCBvYmpIZWFkZXIgPSBgJHtpfSAwIG9ialxcbmA7XG4gICAgY29uc3Qgb2JqQm9keSA9IGAke29iamVjdHNbaV19XFxuYDtcbiAgICBjb25zdCBvYmpFbmQgPSAnZW5kb2JqXFxuJztcbiAgICB4cmVmT2Zmc2V0c1tpXSA9IG9mZnNldDtcbiAgICBwYXJ0cy5wdXNoKG9iakhlYWRlciwgb2JqQm9keSwgb2JqRW5kKTtcbiAgICBvZmZzZXQgKz0gQnVmZmVyLmJ5dGVMZW5ndGgob2JqSGVhZGVyICsgb2JqQm9keSArIG9iakVuZCwgJ3V0ZjgnKTtcbiAgfVxuXG4gIGNvbnN0IHhyZWZTdGFydCA9IG9mZnNldDtcbiAgY29uc3QgcGFkID0gKG46IG51bWJlcikgPT4gbi50b1N0cmluZygpLnBhZFN0YXJ0KDEwLCAnMCcpO1xuICBsZXQgeHJlZiA9ICd4cmVmXFxuMCA2XFxuJztcbiAgeHJlZiArPSAnMDAwMDAwMDAwMCA2NTUzNSBmIFxcbic7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xuICAgIHhyZWYgKz0gYCR7cGFkKHhyZWZPZmZzZXRzW2ldKX0gMDAwMDAgbiBcXG5gO1xuICB9XG4gIGNvbnN0IHRyYWlsZXIgPSBgdHJhaWxlclxcbjw8IC9TaXplIDYgL1Jvb3QgMSAwIFIgPj5cXG5zdGFydHhyZWZcXG4ke3hyZWZTdGFydH1cXG4lJUVPRlxcbmA7XG4gIHBhcnRzLnB1c2goeHJlZiwgdHJhaWxlcik7XG5cbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHBhcnRzLmpvaW4oJycpLCAndXRmOCcpO1xufVxuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsImlzVmFsaWRNYXBwaW5nIiwidGFyZ2V0TWltZSIsIk1vY2tDbG91ZENvbnZlcnNpb24iLCJjcmVhdGVKb2IiLCJmaWxlQnVmZmVyIiwiZmlsZU5hbWUiLCJzb3VyY2VFeHQiLCJzb3VyY2VLaW5kIiwidGFyZ2V0RXh0IiwiaWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZW1pdHRlciIsInF1ZXVlTWljcm90YXNrIiwiZW1pdCIsInN0YWdlIiwiZXJyb3IiLCJzZXRUaW1lb3V0IiwicHJvZ3Jlc3MiLCJkZXJpdmVPdXRwdXROYW1lIiwiaW5wdXROYW1lIiwicmVwbGFjZSIsImZha2VDb252ZXJ0QnVmZmVyIiwiYnVmIiwidG9Mb3dlckNhc2UiLCJnZW5lcmF0ZVNpbXBsZVBkZiIsImhlYWRlciIsIkJ1ZmZlciIsImZyb20iLCJjb25jYXQiLCJzdWJhcnJheSIsIk1hdGgiLCJtaW4iLCJsZW5ndGgiLCJtaW1lRm9yIiwiZXNjYXBlUGRmVGV4dCIsInMiLCJ0ZXh0IiwiY29udGVudFN0cmVhbSIsIm9iamVjdHMiLCJjb250ZW50TGVuIiwiYnl0ZUxlbmd0aCIsIm9mZnNldCIsInBhcnRzIiwieHJlZk9mZnNldHMiLCJpIiwib2JqSGVhZGVyIiwib2JqQm9keSIsIm9iakVuZCIsInB1c2giLCJ4cmVmU3RhcnQiLCJwYWQiLCJuIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInhyZWYiLCJ0cmFpbGVyIiwiam9pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/conversion/service.ts\n");

/***/ }),

/***/ "(rsc)/./lib/events/sse.ts":
/*!***************************!*\
  !*** ./lib/events/sse.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeChannel: () => (/* binding */ closeChannel),\n/* harmony export */   getChannel: () => (/* binding */ getChannel),\n/* harmony export */   sseResponse: () => (/* binding */ sseResponse)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n\n// Persist channels map across HMR to avoid losing listeners/jobs in dev\nconst g = global;\nconst channels = g.__iwork_sse_channels || (g.__iwork_sse_channels = new Map());\nfunction getChannel(id) {\n    let ch = channels.get(id);\n    if (!ch) {\n        ch = new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        channels.set(id, ch);\n    }\n    return ch;\n}\nfunction closeChannel(id) {\n    channels.delete(id);\n}\nfunction sseResponse(req, id) {\n    const stream = new ReadableStream({\n        start (controller) {\n            const encoder = new TextEncoder();\n            // Send an initial comment to flush headers and establish the stream promptly\n            controller.enqueue(encoder.encode(`: connected\\n\\n`));\n            const send = (data)=>{\n                controller.enqueue(encoder.encode(`data: ${JSON.stringify(data)}\\n\\n`));\n            };\n            const ch = getChannel(id);\n            const handler = (payload)=>send(payload);\n            ch.on(\"progress\", handler);\n            req.signal.addEventListener(\"abort\", ()=>{\n                ch.off(\"progress\", handler);\n            });\n        }\n    });\n    return new Response(stream, {\n        headers: {\n            \"Content-Type\": \"text/event-stream\",\n            \"Cache-Control\": \"no-cache\",\n            Connection: \"keep-alive\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZXZlbnRzL3NzZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNzQztBQUV0Qyx3RUFBd0U7QUFDeEUsTUFBTUMsSUFBU0M7QUFDZixNQUFNQyxXQUFzQ0YsRUFBRUcsb0JBQW9CLElBQUtILENBQUFBLEVBQUVHLG9CQUFvQixHQUFHLElBQUlDLEtBQUk7QUFFakcsU0FBU0MsV0FBV0MsRUFBVTtJQUNuQyxJQUFJQyxLQUFLTCxTQUFTTSxHQUFHLENBQUNGO0lBQ3RCLElBQUksQ0FBQ0MsSUFBSTtRQUNQQSxLQUFLLElBQUlSLGdEQUFZQTtRQUNyQkcsU0FBU08sR0FBRyxDQUFDSCxJQUFJQztJQUNuQjtJQUNBLE9BQU9BO0FBQ1Q7QUFFTyxTQUFTRyxhQUFhSixFQUFVO0lBQ3JDSixTQUFTUyxNQUFNLENBQUNMO0FBQ2xCO0FBRU8sU0FBU00sWUFBWUMsR0FBZ0IsRUFBRVAsRUFBVTtJQUN0RCxNQUFNUSxTQUFTLElBQUlDLGVBQWU7UUFDaENDLE9BQU1DLFVBQVU7WUFDZCxNQUFNQyxVQUFVLElBQUlDO1lBQ3BCLDZFQUE2RTtZQUM3RUYsV0FBV0csT0FBTyxDQUFDRixRQUFRRyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUM7WUFDbkQsTUFBTUMsT0FBTyxDQUFDQztnQkFDWk4sV0FBV0csT0FBTyxDQUFDRixRQUFRRyxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUVHLEtBQUtDLFNBQVMsQ0FBQ0YsTUFBTSxJQUFJLENBQUM7WUFDdkU7WUFDQSxNQUFNaEIsS0FBS0YsV0FBV0M7WUFDdEIsTUFBTW9CLFVBQVUsQ0FBQ0MsVUFBaUJMLEtBQUtLO1lBQ3ZDcEIsR0FBR3FCLEVBQUUsQ0FBQyxZQUFZRjtZQUNsQmIsSUFBSWdCLE1BQU0sQ0FBQ0MsZ0JBQWdCLENBQUMsU0FBUztnQkFDbkN2QixHQUFHd0IsR0FBRyxDQUFDLFlBQVlMO1lBQ3JCO1FBQ0Y7SUFDRjtJQUNBLE9BQU8sSUFBSU0sU0FBU2xCLFFBQVE7UUFDMUJtQixTQUFTO1lBQ1AsZ0JBQWdCO1lBQ2hCLGlCQUFpQjtZQUNqQkMsWUFBWTtRQUNkO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2l3b3JrLW9mZmljZS1jb252ZXJ0ZXIvLi9saWIvZXZlbnRzL3NzZS50cz9jOTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcblxuLy8gUGVyc2lzdCBjaGFubmVscyBtYXAgYWNyb3NzIEhNUiB0byBhdm9pZCBsb3NpbmcgbGlzdGVuZXJzL2pvYnMgaW4gZGV2XG5jb25zdCBnOiBhbnkgPSBnbG9iYWwgYXMgYW55O1xuY29uc3QgY2hhbm5lbHM6IE1hcDxzdHJpbmcsIEV2ZW50RW1pdHRlcj4gPSBnLl9faXdvcmtfc3NlX2NoYW5uZWxzIHx8IChnLl9faXdvcmtfc3NlX2NoYW5uZWxzID0gbmV3IE1hcCgpKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYW5uZWwoaWQ6IHN0cmluZykge1xuICBsZXQgY2ggPSBjaGFubmVscy5nZXQoaWQpO1xuICBpZiAoIWNoKSB7XG4gICAgY2ggPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgY2hhbm5lbHMuc2V0KGlkLCBjaCk7XG4gIH1cbiAgcmV0dXJuIGNoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VDaGFubmVsKGlkOiBzdHJpbmcpIHtcbiAgY2hhbm5lbHMuZGVsZXRlKGlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNzZVJlc3BvbnNlKHJlcTogTmV4dFJlcXVlc3QsIGlkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAvLyBTZW5kIGFuIGluaXRpYWwgY29tbWVudCB0byBmbHVzaCBoZWFkZXJzIGFuZCBlc3RhYmxpc2ggdGhlIHN0cmVhbSBwcm9tcHRseVxuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGA6IGNvbm5lY3RlZFxcblxcbmApKTtcbiAgICAgIGNvbnN0IHNlbmQgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhKX1cXG5cXG5gKSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgY2ggPSBnZXRDaGFubmVsKGlkKTtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAocGF5bG9hZDogYW55KSA9PiBzZW5kKHBheWxvYWQpO1xuICAgICAgY2gub24oJ3Byb2dyZXNzJywgaGFuZGxlcik7XG4gICAgICByZXEuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICBjaC5vZmYoJ3Byb2dyZXNzJywgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvZXZlbnQtc3RyZWFtJyxcbiAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgIENvbm5lY3Rpb246ICdrZWVwLWFsaXZlJyxcbiAgICB9LFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJnIiwiZ2xvYmFsIiwiY2hhbm5lbHMiLCJfX2l3b3JrX3NzZV9jaGFubmVscyIsIk1hcCIsImdldENoYW5uZWwiLCJpZCIsImNoIiwiZ2V0Iiwic2V0IiwiY2xvc2VDaGFubmVsIiwiZGVsZXRlIiwic3NlUmVzcG9uc2UiLCJyZXEiLCJzdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImVucXVldWUiLCJlbmNvZGUiLCJzZW5kIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoYW5kbGVyIiwicGF5bG9hZCIsIm9uIiwic2lnbmFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9mZiIsIlJlc3BvbnNlIiwiaGVhZGVycyIsIkNvbm5lY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/events/sse.ts\n");

/***/ }),

/***/ "(rsc)/./lib/init/index.ts":
/*!***************************!*\
  !*** ./lib/init/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/config */ \"(rsc)/./lib/config.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/storage */ \"(rsc)/./lib/storage/index.ts\");\n\n\nif (!global.__iwork_init_done) {\n    global.__iwork_init_done = true;\n    // Start periodic cleanup for in-memory storage\n    const ttl = _lib_config__WEBPACK_IMPORTED_MODULE_0__.config.autoDeleteMinutes * 60 * 1000;\n    const storage = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_1__.getStorage)();\n    if (storage.list) {\n        setInterval(async ()=>{\n            try {\n                const list = await storage.list();\n                const now = Date.now();\n                await Promise.all(list.filter((f)=>now - f.createdAt > ttl).map((f)=>storage.delete(f.id).catch(()=>{})));\n            } catch  {}\n        }, 60000).unref?.();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvaW5pdC9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7QUFBc0M7QUFDSztBQU8zQyxJQUFJLENBQUNFLE9BQU9DLGlCQUFpQixFQUFFO0lBQzdCRCxPQUFPQyxpQkFBaUIsR0FBRztJQUMzQiwrQ0FBK0M7SUFDL0MsTUFBTUMsTUFBTUosK0NBQU1BLENBQUNLLGlCQUFpQixHQUFHLEtBQUs7SUFDNUMsTUFBTUMsVUFBVUwsd0RBQVVBO0lBQzFCLElBQUlLLFFBQVFDLElBQUksRUFBRTtRQUNoQkMsWUFBWTtZQUNWLElBQUk7Z0JBQ0YsTUFBTUQsT0FBTyxNQUFNRCxRQUFRQyxJQUFJO2dCQUMvQixNQUFNRSxNQUFNQyxLQUFLRCxHQUFHO2dCQUNwQixNQUFNRSxRQUFRQyxHQUFHLENBQ2ZMLEtBQ0dNLE1BQU0sQ0FBQyxDQUFDQyxJQUFNTCxNQUFNSyxFQUFFQyxTQUFTLEdBQUdYLEtBQ2xDWSxHQUFHLENBQUMsQ0FBQ0YsSUFBTVIsUUFBUVcsTUFBTSxDQUFDSCxFQUFFSSxFQUFFLEVBQUVDLEtBQUssQ0FBQyxLQUFPO1lBRXBELEVBQUUsT0FBTSxDQUFDO1FBQ1gsR0FBRyxPQUFRQyxLQUFLO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pd29yay1vZmZpY2UtY29udmVydGVyLy4vbGliL2luaXQvaW5kZXgudHM/NWIwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25maWcgfSBmcm9tICdAL2xpYi9jb25maWcnO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSB9IGZyb20gJ0AvbGliL3N0b3JhZ2UnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgdmFyIF9faXdvcmtfaW5pdF9kb25lOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufVxuXG5pZiAoIWdsb2JhbC5fX2l3b3JrX2luaXRfZG9uZSkge1xuICBnbG9iYWwuX19pd29ya19pbml0X2RvbmUgPSB0cnVlO1xuICAvLyBTdGFydCBwZXJpb2RpYyBjbGVhbnVwIGZvciBpbi1tZW1vcnkgc3RvcmFnZVxuICBjb25zdCB0dGwgPSBjb25maWcuYXV0b0RlbGV0ZU1pbnV0ZXMgKiA2MCAqIDEwMDA7XG4gIGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIGlmIChzdG9yYWdlLmxpc3QpIHtcbiAgICBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsaXN0ID0gYXdhaXQgc3RvcmFnZS5saXN0ISgpO1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBsaXN0XG4gICAgICAgICAgICAuZmlsdGVyKChmKSA9PiBub3cgLSBmLmNyZWF0ZWRBdCA+IHR0bClcbiAgICAgICAgICAgIC5tYXAoKGYpID0+IHN0b3JhZ2UuZGVsZXRlKGYuaWQpLmNhdGNoKCgpID0+IHt9KSksXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSwgNjBfMDAwKS51bnJlZj8uKCk7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbImNvbmZpZyIsImdldFN0b3JhZ2UiLCJnbG9iYWwiLCJfX2l3b3JrX2luaXRfZG9uZSIsInR0bCIsImF1dG9EZWxldGVNaW51dGVzIiwic3RvcmFnZSIsImxpc3QiLCJzZXRJbnRlcnZhbCIsIm5vdyIsIkRhdGUiLCJQcm9taXNlIiwiYWxsIiwiZmlsdGVyIiwiZiIsImNyZWF0ZWRBdCIsIm1hcCIsImRlbGV0ZSIsImlkIiwiY2F0Y2giLCJ1bnJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/init/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/queue/index.ts":
/*!****************************!*\
  !*** ./lib/queue/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SimpleQueue: () => (/* binding */ SimpleQueue),\n/* harmony export */   conversionQueue: () => (/* binding */ conversionQueue)\n/* harmony export */ });\nclass SimpleQueue {\n    constructor(concurrency = 2){\n        this.running = 0;\n        this.q = [];\n        this.concurrency = concurrency;\n    }\n    push(task) {\n        this.q.push(task);\n        this.run();\n    }\n    run() {\n        while(this.running < this.concurrency && this.q.length > 0){\n            const t = this.q.shift();\n            this.running++;\n            t().catch(()=>{}).finally(()=>{\n                this.running--;\n                this.run();\n            });\n        }\n    }\n}\nconst conversionQueue = new SimpleQueue(process.platform === \"darwin\" ? 2 : 4);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcXVldWUvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFTyxNQUFNQTtJQUtYQyxZQUFZQyxjQUFjLENBQUMsQ0FBRTthQUhyQkMsVUFBVTthQUNWQyxJQUFZLEVBQUU7UUFHcEIsSUFBSSxDQUFDRixXQUFXLEdBQUdBO0lBQ3JCO0lBRUFHLEtBQUtDLElBQVUsRUFBRTtRQUNmLElBQUksQ0FBQ0YsQ0FBQyxDQUFDQyxJQUFJLENBQUNDO1FBQ1osSUFBSSxDQUFDQyxHQUFHO0lBQ1Y7SUFFUUEsTUFBTTtRQUNaLE1BQU8sSUFBSSxDQUFDSixPQUFPLEdBQUcsSUFBSSxDQUFDRCxXQUFXLElBQUksSUFBSSxDQUFDRSxDQUFDLENBQUNJLE1BQU0sR0FBRyxFQUFHO1lBQzNELE1BQU1DLElBQUksSUFBSSxDQUFDTCxDQUFDLENBQUNNLEtBQUs7WUFDdEIsSUFBSSxDQUFDUCxPQUFPO1lBQ1pNLElBQ0dFLEtBQUssQ0FBQyxLQUFPLEdBQ2JDLE9BQU8sQ0FBQztnQkFDUCxJQUFJLENBQUNULE9BQU87Z0JBQ1osSUFBSSxDQUFDSSxHQUFHO1lBQ1Y7UUFDSjtJQUNGO0FBQ0Y7QUFFTyxNQUFNTSxrQkFBa0IsSUFBSWIsWUFBWWMsUUFBUUMsUUFBUSxLQUFLLFdBQVcsSUFBSSxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXdvcmstb2ZmaWNlLWNvbnZlcnRlci8uL2xpYi9xdWV1ZS9pbmRleC50cz9kZjY3Il0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgVGFzayA9ICgpID0+IFByb21pc2U8dm9pZD47XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVRdWV1ZSB7XG4gIHByaXZhdGUgY29uY3VycmVuY3k6IG51bWJlcjtcbiAgcHJpdmF0ZSBydW5uaW5nID0gMDtcbiAgcHJpdmF0ZSBxOiBUYXNrW10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihjb25jdXJyZW5jeSA9IDIpIHtcbiAgICB0aGlzLmNvbmN1cnJlbmN5ID0gY29uY3VycmVuY3k7XG4gIH1cblxuICBwdXNoKHRhc2s6IFRhc2spIHtcbiAgICB0aGlzLnEucHVzaCh0YXNrKTtcbiAgICB0aGlzLnJ1bigpO1xuICB9XG5cbiAgcHJpdmF0ZSBydW4oKSB7XG4gICAgd2hpbGUgKHRoaXMucnVubmluZyA8IHRoaXMuY29uY3VycmVuY3kgJiYgdGhpcy5xLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLnEuc2hpZnQoKSE7XG4gICAgICB0aGlzLnJ1bm5pbmcrKztcbiAgICAgIHQoKVxuICAgICAgICAuY2F0Y2goKCkgPT4ge30pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJ1bm5pbmctLTtcbiAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNvbnZlcnNpb25RdWV1ZSA9IG5ldyBTaW1wbGVRdWV1ZShwcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJyA/IDIgOiA0KTtcblxuIl0sIm5hbWVzIjpbIlNpbXBsZVF1ZXVlIiwiY29uc3RydWN0b3IiLCJjb25jdXJyZW5jeSIsInJ1bm5pbmciLCJxIiwicHVzaCIsInRhc2siLCJydW4iLCJsZW5ndGgiLCJ0Iiwic2hpZnQiLCJjYXRjaCIsImZpbmFsbHkiLCJjb252ZXJzaW9uUXVldWUiLCJwcm9jZXNzIiwicGxhdGZvcm0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/queue/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/security/rateLimit.ts":
/*!***********************************!*\
  !*** ./lib/security/rateLimit.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit)\n/* harmony export */ });\nconst buckets = new Map();\nfunction rateLimit(ip, limitPerHour) {\n    const now = Date.now();\n    const hour = 60 * 60 * 1000;\n    let bucket = buckets.get(ip);\n    if (!bucket || now > bucket.resetAt) {\n        bucket = {\n            tokens: limitPerHour,\n            resetAt: now + hour\n        };\n        buckets.set(ip, bucket);\n    }\n    if (bucket.tokens <= 0) return false;\n    bucket.tokens -= 1;\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2VjdXJpdHkvcmF0ZUxpbWl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxVQUFVLElBQUlDO0FBRWIsU0FBU0MsVUFBVUMsRUFBVSxFQUFFQyxZQUFvQjtJQUN4RCxNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1FLE9BQU8sS0FBSyxLQUFLO0lBQ3ZCLElBQUlDLFNBQVNSLFFBQVFTLEdBQUcsQ0FBQ047SUFDekIsSUFBSSxDQUFDSyxVQUFVSCxNQUFNRyxPQUFPRSxPQUFPLEVBQUU7UUFDbkNGLFNBQVM7WUFBRUcsUUFBUVA7WUFBY00sU0FBU0wsTUFBTUU7UUFBSztRQUNyRFAsUUFBUVksR0FBRyxDQUFDVCxJQUFJSztJQUNsQjtJQUNBLElBQUlBLE9BQU9HLE1BQU0sSUFBSSxHQUFHLE9BQU87SUFDL0JILE9BQU9HLE1BQU0sSUFBSTtJQUNqQixPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pd29yay1vZmZpY2UtY29udmVydGVyLy4vbGliL3NlY3VyaXR5L3JhdGVMaW1pdC50cz85ZGQxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1Y2tldHMgPSBuZXcgTWFwPHN0cmluZywgeyB0b2tlbnM6IG51bWJlcjsgcmVzZXRBdDogbnVtYmVyIH0+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByYXRlTGltaXQoaXA6IHN0cmluZywgbGltaXRQZXJIb3VyOiBudW1iZXIpIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgaG91ciA9IDYwICogNjAgKiAxMDAwO1xuICBsZXQgYnVja2V0ID0gYnVja2V0cy5nZXQoaXApO1xuICBpZiAoIWJ1Y2tldCB8fCBub3cgPiBidWNrZXQucmVzZXRBdCkge1xuICAgIGJ1Y2tldCA9IHsgdG9rZW5zOiBsaW1pdFBlckhvdXIsIHJlc2V0QXQ6IG5vdyArIGhvdXIgfTtcbiAgICBidWNrZXRzLnNldChpcCwgYnVja2V0KTtcbiAgfVxuICBpZiAoYnVja2V0LnRva2VucyA8PSAwKSByZXR1cm4gZmFsc2U7XG4gIGJ1Y2tldC50b2tlbnMgLT0gMTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbiJdLCJuYW1lcyI6WyJidWNrZXRzIiwiTWFwIiwicmF0ZUxpbWl0IiwiaXAiLCJsaW1pdFBlckhvdXIiLCJub3ciLCJEYXRlIiwiaG91ciIsImJ1Y2tldCIsImdldCIsInJlc2V0QXQiLCJ0b2tlbnMiLCJzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/security/rateLimit.ts\n");

/***/ }),

/***/ "(rsc)/./lib/storage/index.ts":
/*!******************************!*\
  !*** ./lib/storage/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DiskStorage: () => (/* binding */ DiskStorage),\n/* harmony export */   MemoryStorage: () => (/* binding */ MemoryStorage),\n/* harmony export */   S3Storage: () => (/* binding */ S3Storage),\n/* harmony export */   getStorage: () => (/* binding */ getStorage)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/config */ \"(rsc)/./lib/config.ts\");\n\n\n\n\n// Persist in-memory storage across dev hot reloads by attaching to global\nconst g = global;\nconst memoryStore = g.__iwork_memory_store || (g.__iwork_memory_store = new Map());\nclass MemoryStorage {\n    async save(name, data) {\n        const id = crypto.randomUUID();\n        const meta = {\n            id,\n            name,\n            size: data.length,\n            createdAt: Date.now()\n        };\n        memoryStore.set(id, {\n            meta,\n            data\n        });\n        return meta;\n    }\n    async load(id) {\n        return memoryStore.get(id) || null;\n    }\n    async delete(id) {\n        memoryStore.delete(id);\n    }\n    async list() {\n        return Array.from(memoryStore.values()).map((v)=>v.meta);\n    }\n}\nclass DiskStorage {\n    async ensureDir() {\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.mkdir(this.base, {\n            recursive: true\n        });\n    }\n    async save(name, data) {\n        await this.ensureDir();\n        const id = crypto.randomUUID();\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(this.base, id);\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.writeFile(filePath, data);\n        return {\n            id,\n            name,\n            size: data.length,\n            createdAt: Date.now()\n        };\n    }\n    async load(id) {\n        try {\n            const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(this.base, id);\n            const data = await fs__WEBPACK_IMPORTED_MODULE_0__.promises.readFile(filePath);\n            // We don't persist meta; build minimal\n            return {\n                meta: {\n                    id,\n                    name: \"file\",\n                    size: data.length,\n                    createdAt: Date.now()\n                },\n                data\n            };\n        } catch  {\n            return null;\n        }\n    }\n    async delete(id) {\n        try {\n            await fs__WEBPACK_IMPORTED_MODULE_0__.promises.unlink(path__WEBPACK_IMPORTED_MODULE_1___default().join(this.base, id));\n        } catch  {}\n    }\n    constructor(){\n        this.base = path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), _lib_config__WEBPACK_IMPORTED_MODULE_3__.config.diskPath);\n    }\n}\nclass S3Storage {\n    async save(name, data) {\n        const id = crypto.randomUUID();\n        await this.client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2__.PutObjectCommand({\n            Bucket: this.bucket,\n            Key: id,\n            Body: data,\n            Metadata: {\n                name\n            }\n        }));\n        return {\n            id,\n            name,\n            size: data.length,\n            createdAt: Date.now()\n        };\n    }\n    async load(id) {\n        const res = await this.client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2__.GetObjectCommand({\n            Bucket: this.bucket,\n            Key: id\n        }));\n        // @ts-ignore\n        const chunks = [];\n        // @ts-ignore\n        const stream = res.Body;\n        if (!stream) return null;\n        for await (const chunk of stream)chunks.push(Buffer.from(chunk));\n        const data = Buffer.concat(chunks);\n        const name = res.Metadata?.name || \"file\";\n        return {\n            meta: {\n                id,\n                name,\n                size: data.length,\n                createdAt: Date.now()\n            },\n            data\n        };\n    }\n    async delete(id) {\n        await this.client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2__.DeleteObjectCommand({\n            Bucket: this.bucket,\n            Key: id\n        }));\n    }\n    constructor(){\n        this.client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_2__.S3Client({\n            region: process.env.AWS_REGION\n        });\n        this.bucket = process.env.AWS_S3_BUCKET;\n    }\n}\nfunction getStorage() {\n    switch(_lib_config__WEBPACK_IMPORTED_MODULE_3__.config.storageDriver){\n        case \"disk\":\n            return new DiskStorage();\n        case \"s3\":\n            return new S3Storage();\n        default:\n            return new MemoryStorage();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3RvcmFnZS9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFvQztBQUNaO0FBRStFO0FBQ3BEO0FBWW5ELDBFQUEwRTtBQUMxRSxNQUFNUyxJQUFTQztBQUNmLE1BQU1DLGNBQ0pGLEVBQUVHLG9CQUFvQixJQUFLSCxDQUFBQSxFQUFFRyxvQkFBb0IsR0FBRyxJQUFJQyxLQUFJO0FBRXZELE1BQU1DO0lBQ1gsTUFBTUMsS0FBS0MsSUFBWSxFQUFFQyxJQUFZLEVBQXVCO1FBQzFELE1BQU1DLEtBQUtDLE9BQU9DLFVBQVU7UUFDNUIsTUFBTUMsT0FBTztZQUFFSDtZQUFJRjtZQUFNTSxNQUFNTCxLQUFLTSxNQUFNO1lBQUVDLFdBQVdDLEtBQUtDLEdBQUc7UUFBRztRQUNsRWYsWUFBWWdCLEdBQUcsQ0FBQ1QsSUFBSTtZQUFFRztZQUFNSjtRQUFLO1FBQ2pDLE9BQU9JO0lBQ1Q7SUFDQSxNQUFNTyxLQUFLVixFQUFVLEVBQUU7UUFDckIsT0FBT1AsWUFBWWtCLEdBQUcsQ0FBQ1gsT0FBTztJQUNoQztJQUNBLE1BQU1ZLE9BQU9aLEVBQVUsRUFBRTtRQUN2QlAsWUFBWW1CLE1BQU0sQ0FBQ1o7SUFDckI7SUFDQSxNQUFNYSxPQUFPO1FBQ1gsT0FBT0MsTUFBTUMsSUFBSSxDQUFDdEIsWUFBWXVCLE1BQU0sSUFBSUMsR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVmLElBQUk7SUFDM0Q7QUFDRjtBQUVPLE1BQU1nQjtJQUVYLE1BQU1DLFlBQVk7UUFDaEIsTUFBTXJDLHdDQUFFQSxDQUFDc0MsS0FBSyxDQUFDLElBQUksQ0FBQ0MsSUFBSSxFQUFFO1lBQUVDLFdBQVc7UUFBSztJQUM5QztJQUNBLE1BQU0xQixLQUFLQyxJQUFZLEVBQUVDLElBQVksRUFBdUI7UUFDMUQsTUFBTSxJQUFJLENBQUNxQixTQUFTO1FBQ3BCLE1BQU1wQixLQUFLQyxPQUFPQyxVQUFVO1FBQzVCLE1BQU1zQixXQUFXeEMsZ0RBQVMsQ0FBQyxJQUFJLENBQUNzQyxJQUFJLEVBQUV0QjtRQUN0QyxNQUFNakIsd0NBQUVBLENBQUMyQyxTQUFTLENBQUNGLFVBQVV6QjtRQUM3QixPQUFPO1lBQUVDO1lBQUlGO1lBQU1NLE1BQU1MLEtBQUtNLE1BQU07WUFBRUMsV0FBV0MsS0FBS0MsR0FBRztRQUFHO0lBQzlEO0lBQ0EsTUFBTUUsS0FBS1YsRUFBVSxFQUFFO1FBQ3JCLElBQUk7WUFDRixNQUFNd0IsV0FBV3hDLGdEQUFTLENBQUMsSUFBSSxDQUFDc0MsSUFBSSxFQUFFdEI7WUFDdEMsTUFBTUQsT0FBTyxNQUFNaEIsd0NBQUVBLENBQUM0QyxRQUFRLENBQUNIO1lBQy9CLHVDQUF1QztZQUN2QyxPQUFPO2dCQUFFckIsTUFBTTtvQkFBRUg7b0JBQUlGLE1BQU07b0JBQVFNLE1BQU1MLEtBQUtNLE1BQU07b0JBQUVDLFdBQVdDLEtBQUtDLEdBQUc7Z0JBQUc7Z0JBQUdUO1lBQUs7UUFDdEYsRUFBRSxPQUFNO1lBQ04sT0FBTztRQUNUO0lBQ0Y7SUFDQSxNQUFNYSxPQUFPWixFQUFVLEVBQUU7UUFDdkIsSUFBSTtZQUNGLE1BQU1qQix3Q0FBRUEsQ0FBQzZDLE1BQU0sQ0FBQzVDLGdEQUFTLENBQUMsSUFBSSxDQUFDc0MsSUFBSSxFQUFFdEI7UUFDdkMsRUFBRSxPQUFNLENBQUM7SUFDWDs7YUF6QkFzQixPQUFPdEMsbURBQVksQ0FBQzhDLFFBQVFDLEdBQUcsSUFBSXpDLCtDQUFTQSxDQUFDMEMsUUFBUTs7QUEwQnZEO0FBRU8sTUFBTUM7SUFHWCxNQUFNcEMsS0FBS0MsSUFBWSxFQUFFQyxJQUFZLEVBQXVCO1FBQzFELE1BQU1DLEtBQUtDLE9BQU9DLFVBQVU7UUFDNUIsTUFBTSxJQUFJLENBQUNnQyxNQUFNLENBQUNDLElBQUksQ0FDcEIsSUFBSWpELGdFQUFnQkEsQ0FBQztZQUFFa0QsUUFBUSxJQUFJLENBQUNDLE1BQU07WUFBRUMsS0FBS3RDO1lBQUl1QyxNQUFNeEM7WUFBTXlDLFVBQVU7Z0JBQUUxQztZQUFLO1FBQUU7UUFFdEYsT0FBTztZQUFFRTtZQUFJRjtZQUFNTSxNQUFNTCxLQUFLTSxNQUFNO1lBQUVDLFdBQVdDLEtBQUtDLEdBQUc7UUFBRztJQUM5RDtJQUNBLE1BQU1FLEtBQUtWLEVBQVUsRUFBRTtRQUNyQixNQUFNeUMsTUFBTSxNQUFNLElBQUksQ0FBQ1AsTUFBTSxDQUFDQyxJQUFJLENBQ2hDLElBQUloRCxnRUFBZ0JBLENBQUM7WUFBRWlELFFBQVEsSUFBSSxDQUFDQyxNQUFNO1lBQUVDLEtBQUt0QztRQUFHO1FBRXRELGFBQWE7UUFDYixNQUFNMEMsU0FBbUIsRUFBRTtRQUMzQixhQUFhO1FBQ2IsTUFBTUMsU0FBU0YsSUFBSUYsSUFBSTtRQUN2QixJQUFJLENBQUNJLFFBQVEsT0FBTztRQUNwQixXQUFXLE1BQU1DLFNBQVNELE9BQVFELE9BQU9HLElBQUksQ0FBQ0MsT0FBTy9CLElBQUksQ0FBQzZCO1FBQzFELE1BQU03QyxPQUFPK0MsT0FBT0MsTUFBTSxDQUFDTDtRQUMzQixNQUFNNUMsT0FBTzJDLElBQUlELFFBQVEsRUFBRTFDLFFBQVE7UUFDbkMsT0FBTztZQUFFSyxNQUFNO2dCQUFFSDtnQkFBSUY7Z0JBQU1NLE1BQU1MLEtBQUtNLE1BQU07Z0JBQUVDLFdBQVdDLEtBQUtDLEdBQUc7WUFBRztZQUFHVDtRQUFLO0lBQzlFO0lBQ0EsTUFBTWEsT0FBT1osRUFBVSxFQUFFO1FBQ3ZCLE1BQU0sSUFBSSxDQUFDa0MsTUFBTSxDQUFDQyxJQUFJLENBQUMsSUFBSS9DLG1FQUFtQkEsQ0FBQztZQUFFZ0QsUUFBUSxJQUFJLENBQUNDLE1BQU07WUFBRUMsS0FBS3RDO1FBQUc7SUFDaEY7O2FBekJBa0MsU0FBUyxJQUFJakQsd0RBQVFBLENBQUM7WUFBRStELFFBQVFsQixRQUFRbUIsR0FBRyxDQUFDQyxVQUFVO1FBQUM7YUFDdkRiLFNBQVNQLFFBQVFtQixHQUFHLENBQUNFLGFBQWE7O0FBeUJwQztBQUVPLFNBQVNDO0lBQ2QsT0FBUTlELCtDQUFTQSxDQUFDK0QsYUFBYTtRQUM3QixLQUFLO1lBQ0gsT0FBTyxJQUFJbEM7UUFDYixLQUFLO1lBQ0gsT0FBTyxJQUFJYztRQUNiO1lBQ0UsT0FBTyxJQUFJckM7SUFDZjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXdvcmstb2ZmaWNlLWNvbnZlcnRlci8uL2xpYi9zdG9yYWdlL2luZGV4LnRzP2RjZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnMgfSBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBvcyBmcm9tICdvcyc7XG5pbXBvcnQgeyBTM0NsaWVudCwgUHV0T2JqZWN0Q29tbWFuZCwgR2V0T2JqZWN0Q29tbWFuZCwgRGVsZXRlT2JqZWN0Q29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1zMyc7XG5pbXBvcnQgeyBjb25maWcgYXMgYXBwQ29uZmlnIH0gZnJvbSAnQC9saWIvY29uZmlnJztcblxuZXhwb3J0IHR5cGUgU3RvcmVkRmlsZSA9IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBzaXplOiBudW1iZXI7IGNyZWF0ZWRBdDogbnVtYmVyIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZUFkYXB0ZXIge1xuICBzYXZlKG5hbWU6IHN0cmluZywgZGF0YTogQnVmZmVyKTogUHJvbWlzZTxTdG9yZWRGaWxlPjtcbiAgbG9hZChpZDogc3RyaW5nKTogUHJvbWlzZTx7IG1ldGE6IFN0b3JlZEZpbGU7IGRhdGE6IEJ1ZmZlciB9IHwgbnVsbD47XG4gIGRlbGV0ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcbiAgdXJsPyhpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPjtcbiAgbGlzdD8oKTogUHJvbWlzZTxTdG9yZWRGaWxlW10+O1xufVxuXG4vLyBQZXJzaXN0IGluLW1lbW9yeSBzdG9yYWdlIGFjcm9zcyBkZXYgaG90IHJlbG9hZHMgYnkgYXR0YWNoaW5nIHRvIGdsb2JhbFxuY29uc3QgZzogYW55ID0gZ2xvYmFsIGFzIGFueTtcbmNvbnN0IG1lbW9yeVN0b3JlOiBNYXA8c3RyaW5nLCB7IG1ldGE6IFN0b3JlZEZpbGU7IGRhdGE6IEJ1ZmZlciB9PiA9XG4gIGcuX19pd29ya19tZW1vcnlfc3RvcmUgfHwgKGcuX19pd29ya19tZW1vcnlfc3RvcmUgPSBuZXcgTWFwKCkpO1xuXG5leHBvcnQgY2xhc3MgTWVtb3J5U3RvcmFnZSBpbXBsZW1lbnRzIFN0b3JhZ2VBZGFwdGVyIHtcbiAgYXN5bmMgc2F2ZShuYW1lOiBzdHJpbmcsIGRhdGE6IEJ1ZmZlcik6IFByb21pc2U8U3RvcmVkRmlsZT4ge1xuICAgIGNvbnN0IGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBtZXRhID0geyBpZCwgbmFtZSwgc2l6ZTogZGF0YS5sZW5ndGgsIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSB9O1xuICAgIG1lbW9yeVN0b3JlLnNldChpZCwgeyBtZXRhLCBkYXRhIH0pO1xuICAgIHJldHVybiBtZXRhO1xuICB9XG4gIGFzeW5jIGxvYWQoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiBtZW1vcnlTdG9yZS5nZXQoaWQpIHx8IG51bGw7XG4gIH1cbiAgYXN5bmMgZGVsZXRlKGlkOiBzdHJpbmcpIHtcbiAgICBtZW1vcnlTdG9yZS5kZWxldGUoaWQpO1xuICB9XG4gIGFzeW5jIGxpc3QoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obWVtb3J5U3RvcmUudmFsdWVzKCkpLm1hcCgodikgPT4gdi5tZXRhKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlza1N0b3JhZ2UgaW1wbGVtZW50cyBTdG9yYWdlQWRhcHRlciB7XG4gIGJhc2UgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgYXBwQ29uZmlnLmRpc2tQYXRoKTtcbiAgYXN5bmMgZW5zdXJlRGlyKCkge1xuICAgIGF3YWl0IGZzLm1rZGlyKHRoaXMuYmFzZSwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gIH1cbiAgYXN5bmMgc2F2ZShuYW1lOiBzdHJpbmcsIGRhdGE6IEJ1ZmZlcik6IFByb21pc2U8U3RvcmVkRmlsZT4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlRGlyKCk7XG4gICAgY29uc3QgaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHRoaXMuYmFzZSwgaWQpO1xuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwgZGF0YSk7XG4gICAgcmV0dXJuIHsgaWQsIG5hbWUsIHNpemU6IGRhdGEubGVuZ3RoLCBjcmVhdGVkQXQ6IERhdGUubm93KCkgfTtcbiAgfVxuICBhc3luYyBsb2FkKGlkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odGhpcy5iYXNlLCBpZCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoZmlsZVBhdGgpO1xuICAgICAgLy8gV2UgZG9uJ3QgcGVyc2lzdCBtZXRhOyBidWlsZCBtaW5pbWFsXG4gICAgICByZXR1cm4geyBtZXRhOiB7IGlkLCBuYW1lOiAnZmlsZScsIHNpemU6IGRhdGEubGVuZ3RoLCBjcmVhdGVkQXQ6IERhdGUubm93KCkgfSwgZGF0YSB9O1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGFzeW5jIGRlbGV0ZShpZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZzLnVubGluayhwYXRoLmpvaW4odGhpcy5iYXNlLCBpZCkpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUzNTdG9yYWdlIGltcGxlbWVudHMgU3RvcmFnZUFkYXB0ZXIge1xuICBjbGllbnQgPSBuZXcgUzNDbGllbnQoeyByZWdpb246IHByb2Nlc3MuZW52LkFXU19SRUdJT04gfSk7XG4gIGJ1Y2tldCA9IHByb2Nlc3MuZW52LkFXU19TM19CVUNLRVQgYXMgc3RyaW5nO1xuICBhc3luYyBzYXZlKG5hbWU6IHN0cmluZywgZGF0YTogQnVmZmVyKTogUHJvbWlzZTxTdG9yZWRGaWxlPiB7XG4gICAgY29uc3QgaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGF3YWl0IHRoaXMuY2xpZW50LnNlbmQoXG4gICAgICBuZXcgUHV0T2JqZWN0Q29tbWFuZCh7IEJ1Y2tldDogdGhpcy5idWNrZXQsIEtleTogaWQsIEJvZHk6IGRhdGEsIE1ldGFkYXRhOiB7IG5hbWUgfSB9KSxcbiAgICApO1xuICAgIHJldHVybiB7IGlkLCBuYW1lLCBzaXplOiBkYXRhLmxlbmd0aCwgY3JlYXRlZEF0OiBEYXRlLm5vdygpIH07XG4gIH1cbiAgYXN5bmMgbG9hZChpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuc2VuZChcbiAgICAgIG5ldyBHZXRPYmplY3RDb21tYW5kKHsgQnVja2V0OiB0aGlzLmJ1Y2tldCwgS2V5OiBpZCB9KSxcbiAgICApO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBjaHVua3M6IEJ1ZmZlcltdID0gW107XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHN0cmVhbSA9IHJlcy5Cb2R5IGFzIGFueTtcbiAgICBpZiAoIXN0cmVhbSkgcmV0dXJuIG51bGw7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIGNodW5rcy5wdXNoKEJ1ZmZlci5mcm9tKGNodW5rKSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5jb25jYXQoY2h1bmtzKTtcbiAgICBjb25zdCBuYW1lID0gcmVzLk1ldGFkYXRhPy5uYW1lIHx8ICdmaWxlJztcbiAgICByZXR1cm4geyBtZXRhOiB7IGlkLCBuYW1lLCBzaXplOiBkYXRhLmxlbmd0aCwgY3JlYXRlZEF0OiBEYXRlLm5vdygpIH0sIGRhdGEgfTtcbiAgfVxuICBhc3luYyBkZWxldGUoaWQ6IHN0cmluZykge1xuICAgIGF3YWl0IHRoaXMuY2xpZW50LnNlbmQobmV3IERlbGV0ZU9iamVjdENvbW1hbmQoeyBCdWNrZXQ6IHRoaXMuYnVja2V0LCBLZXk6IGlkIH0pKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmFnZSgpOiBTdG9yYWdlQWRhcHRlciB7XG4gIHN3aXRjaCAoYXBwQ29uZmlnLnN0b3JhZ2VEcml2ZXIpIHtcbiAgICBjYXNlICdkaXNrJzpcbiAgICAgIHJldHVybiBuZXcgRGlza1N0b3JhZ2UoKTtcbiAgICBjYXNlICdzMyc6XG4gICAgICByZXR1cm4gbmV3IFMzU3RvcmFnZSgpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV3IE1lbW9yeVN0b3JhZ2UoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInByb21pc2VzIiwiZnMiLCJwYXRoIiwiUzNDbGllbnQiLCJQdXRPYmplY3RDb21tYW5kIiwiR2V0T2JqZWN0Q29tbWFuZCIsIkRlbGV0ZU9iamVjdENvbW1hbmQiLCJjb25maWciLCJhcHBDb25maWciLCJnIiwiZ2xvYmFsIiwibWVtb3J5U3RvcmUiLCJfX2l3b3JrX21lbW9yeV9zdG9yZSIsIk1hcCIsIk1lbW9yeVN0b3JhZ2UiLCJzYXZlIiwibmFtZSIsImRhdGEiLCJpZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJtZXRhIiwic2l6ZSIsImxlbmd0aCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJzZXQiLCJsb2FkIiwiZ2V0IiwiZGVsZXRlIiwibGlzdCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsIm1hcCIsInYiLCJEaXNrU3RvcmFnZSIsImVuc3VyZURpciIsIm1rZGlyIiwiYmFzZSIsInJlY3Vyc2l2ZSIsImZpbGVQYXRoIiwiam9pbiIsIndyaXRlRmlsZSIsInJlYWRGaWxlIiwidW5saW5rIiwicmVzb2x2ZSIsInByb2Nlc3MiLCJjd2QiLCJkaXNrUGF0aCIsIlMzU3RvcmFnZSIsImNsaWVudCIsInNlbmQiLCJCdWNrZXQiLCJidWNrZXQiLCJLZXkiLCJCb2R5IiwiTWV0YWRhdGEiLCJyZXMiLCJjaHVua3MiLCJzdHJlYW0iLCJjaHVuayIsInB1c2giLCJCdWZmZXIiLCJjb25jYXQiLCJyZWdpb24iLCJlbnYiLCJBV1NfUkVHSU9OIiwiQVdTX1MzX0JVQ0tFVCIsImdldFN0b3JhZ2UiLCJzdG9yYWdlRHJpdmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/storage/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/jszip","vendor-chunks/pako","vendor-chunks/zod","vendor-chunks/inherits","vendor-chunks/util-deprecate","vendor-chunks/process-nextick-args","vendor-chunks/lie","vendor-chunks/immediate","vendor-chunks/core-util-is"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsumitchakrabarti%2FAI%2Fcodex%2Fgithub_clone_attempt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();